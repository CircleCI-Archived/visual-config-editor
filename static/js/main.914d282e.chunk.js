(this["webpackJsonpvisual-config-editor"]=this["webpackJsonpvisual-config-editor"]||[]).push([[0],{105:function(e){e.exports=JSON.parse('{"a":"v0.10.5"}')},106:function(e){e.exports=JSON.parse('{"version":2.1,"setup":false,"jobs":{},"workflows":{"build-and-deploy":{"jobs":[{"node/test":{"run-command":"test:unit","pkg-manager":"yarn"}},{"heroku/deploy-via-git":{"context":["cfd-deploy"],"requires":["node/test"],"filters":{"branches":{"only":["main"]}},"app-name":"cfd-sample"}}]}},"orbs":{"node":"circleci/node@5.0.2","heroku":"circleci/heroku@1.2.6"}}')},107:function(e){e.exports=JSON.parse('{"version":2.1,"setup":false,"jobs":{"build":{"steps":["checkout",{"run":{"command":"yarn build"}},{"persist_to_workspace":{"root":"../","paths":["build"]}}],"docker":[{"image":"cimg/node:16.11.1"}],"resource_class":"medium"},"test":{"steps":[{"attach_workspace":{"at":"."}},{"run":{"command":"yarn test","working_directory":"~/project/build"}},{"persist_to_workspace":{"root":".","paths":["build"]}}],"docker":[{"image":"cimg/node:16.11.1"}],"resource_class":"medium"},"deploy":{"steps":[{"attach_workspace":{"at":"."}},{"run":{"command":"yarn deploy","working_directory":"~/project/build"}}],"docker":[{"image":"cimg/node:16.11.1"}],"resource_class":"medium"}},"workflows":{"build-and-test":{"jobs":["build",{"test":{"requires":["build"]}},{"deploy":{"requires":["test"]}}]}}}')},185:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(19),o=n.n(c),i=n(110),s=n.n(i),l=n(10),d=n(3),u=n(11),b=n(8),j=n(5),m=n(100),f=n(6),p=n(36),x=n(37),v=n(64),O=n(63),h=n(0),g=function(e){var t=e.className;return Object(h.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",className:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.0234839 7.51039C1.14085 3.1963 5.11269 0.00461578 9.84978 0.00461578C15.446 0.00461578 19.9906 4.47113 19.9906 9.98152C19.9906 15.4919 15.4507 19.9584 9.84978 19.9584C5.11269 19.9584 1.14085 16.7667 0.0234839 12.4527C0.0140942 12.4203 0.00939941 12.388 0.00939941 12.3557C0.00939941 12.0924 0.225362 11.8799 0.492967 11.8799H4.58217C4.77466 11.8799 4.94367 11.9954 5.01879 12.157C5.85447 13.9538 7.69954 15.2055 9.84508 15.2055C12.7747 15.2055 15.1549 12.8684 15.1549 9.98152C15.1549 7.0993 12.7794 4.7575 9.84508 4.7575C7.70424 4.7575 5.85916 6.00923 5.01879 7.806C4.94367 7.96766 4.77466 8.08314 4.58217 8.08314H0.492967C0.225362 8.08314 0.00939941 7.87067 0.00939941 7.60739C0.00939941 7.57505 0.0140942 7.54272 0.0234839 7.51039ZM9.84508 7.60739C8.51175 7.60739 7.43193 8.66974 7.43193 9.98152C7.43193 11.2933 8.51175 12.3557 9.84508 12.3557C11.1784 12.3557 12.2582 11.2933 12.2582 9.98152C12.2582 8.66974 11.1784 7.60739 9.84508 7.60739Z",fill:"#161616"})})},w=function(e){return Object(h.jsxs)("div",{className:"flex flex-row ".concat(e.className," w-36 h-6"),children:[Object(h.jsx)(g,{className:"my-auto"}),Object(h.jsx)("h3",{className:"font-bold px-2",children:"Loading"}),Object(h.jsx)("span",{className:"border-r mx-2 py-3"}),Object(h.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:"my-auto animate-spin-slow",children:[Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.47715 6.47715 2 12 2V12V22C6.47715 22 2 17.5228 2 12Z",fill:"#B6E6FF"}),Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22V2C17.5228 2 22 6.47715 22 12Z",fill:"#0078CA"})]})]})},y=n(9),C=function(e){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:e.className,fill:"none",stroke:e.color||"black",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},N=function(e){return Object(h.jsxs)("div",{className:"flex flex-row",children:[Object(h.jsx)(C,{className:"mr-4 w-6 h-6"}),Object(h.jsx)("h3",{className:"my-auto",children:e.data.name})]})},k=function(e){return Object(h.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:e.className,fill:"none",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 7V1C7 0.447715 7.44772 0 8 0C8.55229 0 9 0.447715 9 1V7H15C15.5523 7 16 7.44772 16 8C16 8.55229 15.5523 9 15 9H9V15C9 15.5523 8.55229 16 8 16C7.44772 16 7 15.5523 7 15V9H1C0.447715 9 0 8.55229 0 8C0 7.44772 0.447715 7 1 7H7Z",fill:"#343434"})})},L=function(e){return Object(h.jsx)("button",Object(d.a)(Object(d.a)({type:"button"},e),{},{className:"bg-circle-gray-300 transition-colors h-8 w-8 rounded ".concat(e.className," \n      ").concat(e.disabled?"opacity-50 cursor-default":"hover:bg-circle-gray-400 "),children:Object(h.jsx)(k,{className:"m-auto"})}))},E=function(e){var t=e.label,n=e.Logo,a=e.description;return Object(h.jsxs)("div",{children:[n&&Object(h.jsx)(n,{className:"w-5 h-5 mx-auto",color:"#161616"}),Object(h.jsx)("h2",{className:"text-sm font-bold text-center text-circle-black p-1",children:t}),a&&Object(h.jsx)("div",{className:"text-sm text-center text-circle-black",children:a})]})},M=n(12),S=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 20 20",className:e.className,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.81818C5.4839 1.81818 1.81818 5.4839 1.81818 10C1.81818 14.5161 5.4839 18.1818 10 18.1818C14.5161 18.1818 18.1818 14.5161 18.1818 10C18.1818 5.4839 14.5161 1.81818 10 1.81818ZM0 10C0 4.47974 4.47974 0 10 0C15.5203 0 20 4.47974 20 10C20 15.5203 15.5203 20 10 20C4.47974 20 0 15.5203 0 10ZM10 4.54546C9.49796 4.54546 9.09094 4.95248 9.09094 5.45455C9.09094 5.95663 9.49796 6.36364 10 6.36364C10.5021 6.36364 10.9091 5.95663 10.9091 5.45455C10.9091 4.95248 10.5021 4.54546 10 4.54546ZM10 8.18182C9.49796 8.18182 9.09094 8.58883 9.09094 9.09091V14.5455C9.09094 15.0475 9.49796 15.4545 10 15.4545C10.5021 15.4545 10.9091 15.0475 10.9091 14.5455V9.09091C10.9091 8.58883 10.5021 8.18182 10 8.18182Z",fill:e.color})})},V=function(e){var t=e.description,n=Jt((function(e){return e.updateTooltip})),r=Object(a.useRef)(null);return Object(h.jsx)("div",{ref:r,className:"my-auto flex ml-1",onMouseEnter:function(){n({description:t,ref:r,facing:"bottom"})},onMouseLeave:function(){return n(void 0)},children:Object(h.jsx)(S,{className:"w-5 h-5 p-1",color:"#6A6A6A"})})},_=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 14 14",className:e.className,children:Object(h.jsx)("path",{d:e.expanded?"M4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 Z":"M6,11.7928932 L6,4.20710678 C6,3.93096441 6.22385763,3.70710678 6.5,3.70710678 C6.63260824,3.70710678 6.7597852,3.7597852 6.85355339,3.85355339 L10.6464466,7.64644661 C10.8417088,7.84170876 10.8417088,8.15829124 10.6464466,8.35355339 L6.85355339,12.1464466 C6.65829124,12.3417088 6.34170876,12.3417088 6.14644661,12.1464466 C6.05267842,12.0526784 6,11.9255015 6,11.7928932 Z"})})},R=n(103),H=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],o=n[1],i=Object(a.useRef)(null),s=Object(a.useRef)(null),l=Object(a.useState)(void 0),u=Object(j.a)(l,2),b=u[0],m=u[1],f=Object(a.useCallback)((function(){o(!1)}),[]);Object(a.useEffect)((function(){if(m(function(e,t,n,a){var r,c;if(e.current&&t.current){var o=null===(r=e.current)||void 0===r?void 0:r.getBoundingClientRect(),i=null===(c=t.current)||void 0===c?void 0:c.getBoundingClientRect();return{left:o.x+(n?-i.width+o.width:0),top:o.y+o.height+(a||4),minWidth:o.width}}}(i,s,e.alignLeft,e.space)),!e.dontCollapse)return window.addEventListener("click",f),function(){window.removeEventListener("click",f)}}),[c,f,e.alignLeft,e.space,e.dontCollapse]);var p=r.a.Children.toArray(e.children),x=Object(R.a)(p),v=x[0],O=x.slice(1);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:e.className,ref:i,type:"button",onClick:function(t){o(!c),t.stopPropagation(),e.onClick&&e.onClick()},children:v}),c&&Object(h.jsx)("div",{ref:s,hidden:!b,className:"fixed w-max h-max z-20 flex flex-col",style:Object(d.a)(Object(d.a)({},b),{},{marginLeft:0}),children:O})]})},I=["name","field","meta","helper"],P=function(e){e.name;var t=e.field,n=e.meta,a=e.helper,r=Object(y.a)(e,I),c=n.value,o=n.initialValue,i=a.setValue;return Object(h.jsx)(A,Object(d.a)(Object(d.a)(Object(d.a)({},t),r),{},{value:c||o,onChange:function(e){i(r.transform?r.transform(e):e),r.onChange&&r.onChange(e)}}))},A=function(e){var t=r.a.Children.toArray(e.children),n=t.findIndex((function(t){return"".concat(t.props.value)==="".concat(e.value)})),c=Object(a.useState)(n),o=Object(j.a)(c,2),i=o[0],s=o[1];return Object(h.jsxs)(H,{className:"rounded ".concat(e.borderless?"border-transparent":" border-circle-gray-300 shadow-sm"," px-2 hover:border-circle-gray-700 border w-auto \n        ").concat(e.className),children:[Object(h.jsxs)("div",{className:"flex flex-row",children:[e.icon,Object(h.jsx)("div",{className:"".concat(-1===i?"text-circle-gray-500":"text-circle-black"," ml-2 leading-10"),children:i>-1?t[i].props.children:e.placeholder}),Object(h.jsx)("div",{className:"ml-auto py-2",children:Object(h.jsx)(_,{className:"w-3 h-5 mr-3 ml-3",expanded:!0})})]}),Object(h.jsx)("div",{className:"bg-white py-2 shadow-lg flex flex-col "+e.dropdownClassName,children:t.map((function(n,a){return Object(h.jsx)("button",{className:"px-3 py-1 text-left hover:bg-circle-gray-200 ".concat(a>0&&"border-t border-circle-gray-300"),onClick:function(){s(a),e.onChange&&e.onChange(t[a].props.value)},children:n.props.children},a)}))})]})},T=["label","field","description","pinned"],Z=function(e,t,n,a,r){var c;return e.children&&"select"===e.as?Object(h.jsx)(P,Object(d.a)(Object(d.a)({},e),{},{name:e.name,meta:n,field:t,helper:a,placeholder:e.placeholder,transform:e.transform,onChange:e.onChange,className:"w-full "+e.className,children:e.children})):null!==(c=e.children)&&void 0!==c?c:Object(h.jsx)(M.a,Object(d.a)(Object(d.a)(Object(d.a)({},t),e),{},{className:"".concat("checkbox"!==e.type?"w-full":"ml-auto"," \n        border rounded p-2 px-4 shadow-sm hover:border-circle-black placeholder-circle-gray-500 ").concat(!t.value&&"bg-circle-gray-100"," ").concat(r?"border-circle-red":"border-circle-gray-300")}))},F=function(e){var t=e.label,n=e.field,r=e.description,c=e.pinned,o=Object(y.a)(e,T),i=Object(j.a)(n,3),s=i[0],l=i[1],d=i[2],u=l.touched,b=l.error,m=l.value;return Object(a.useEffect)((function(){o.value&&m!==o.value&&d.setValue(o.value)}),[d,m,o.value]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"".concat("checkbox"===o.type&&"flex flex-row"," mb-4 ").concat(o.className),hidden:o.hidden,children:[Object(h.jsxs)("div",{className:"flex flex-row mb-2 ".concat(o.labelStyle),children:[Object(h.jsx)("h3",{className:"font-medium text-sm my-auto text-circle-black",children:t}),r&&Object(h.jsx)(V,{description:r}),Object(h.jsxs)("div",{className:"ml-auto ",children:[o.required&&Object(h.jsx)("span",{className:"leading-5 text-xs text-circle-black px-2 bg-circle-gray-300 rounded-full font-medium",children:"required"}),c]})]}),Z(o,s,l,d,b),u&&b&&Object(h.jsx)("span",{className:"text-sm text-circle-red",children:b})]}),o.dependent&&o.dependent(m)]})},B=function(e){var t=Object(M.e)(e);return Object(h.jsx)(F,Object(d.a)(Object(d.a)({},e),{},{field:t}))},W=n(66),q=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 12 12",className:e.className,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.42616 6L11.7046 10.2785C12.0985 10.6723 12.0985 11.3108 11.7046 11.7046C11.3108 12.0985 10.6723 12.0985 10.2785 11.7046L6 7.42616L1.72153 11.7046C1.3277 12.0985 0.68919 12.0985 0.295367 11.7046C-0.0984557 11.3108 -0.0984557 10.6723 0.295367 10.2785L4.57384 6L0.295367 1.72153C-0.0984557 1.3277 -0.0984557 0.68919 0.295367 0.295367C0.68919 -0.0984557 1.3277 -0.0984557 1.72153 0.295367L6 4.57384L10.2785 0.295367C10.6723 -0.0984557 11.3108 -0.0984557 11.7046 0.295367C12.0985 0.68919 12.0985 1.3277 11.7046 1.72153L7.42616 6V6Z",fill:e.color})})},D=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 16 6",className:e.className,fill:e.color,children:Object(h.jsx)("path",{d:"M16 1C16 0.447715 15.5523 0 15 0H1C0.447715 0 0 0.447715 0 1C0 1.55228 0.447715 2 1 2H15C15.5523 2 16 1.55228 16 1ZM0 5C0 5.55228 0.447715 6 1 6H15C15.5523 6 16 5.55228 16 5C16 4.44772 15.5523 4 15 4H1C0.447715 4 0 4.44772 0 5Z"})})},J=["titleFont"],z=function(e){var t=e.titleFont,n=Object(y.a)(e,J),r=Object(a.useState)(n.expanded||!1),c=Object(j.a)(r,2),o=c[0],i=c[1];return Object(h.jsxs)("div",{className:"transition-all ".concat(n.classNameExpanded&&o?n.classNameExpanded:n.className),children:[Object(h.jsxs)("div",{className:"flex flex-row",children:[Object(h.jsxs)("div",{className:"w-10/12 my-auto",children:[Object(h.jsxs)("div",{className:"flex flex-row h-8",children:[Object(h.jsx)("button",{onClick:function(e){var t=!o;i(t),n.onChange&&n.onChange(t)},type:"button",style:{width:22,height:22},className:"flex hover:bg-circle-gray-250 border-white border rounded px-1",children:Object(h.jsx)(_,{className:"w-3 h-5 mx-auto",expanded:o})}),Object(h.jsx)("h1",{className:"mx-2 ".concat(t||"font-medium text-base"," leading-6 tracking-wide"),children:n.title})]}),o&&n.titleExpanded]}),(o||n.alwaysShowPinned)&&n.pinned]}),o&&Object(h.jsx)("div",{className:"ml-4",children:n.children})]})},K=["label","values","description","empty","children","listItem","labels","field","placeholder","arrayHelper"],Y=function(e){var t=e.index,n=e.arrayHelper,a=e.children,r=e.values,c=e.lastRemaining,o=e.labels,i=Jt((function(e){return e.triggerConfirmation}));return Object(h.jsx)(W.b,{draggableId:"".concat(t),index:t,children:function(e,s){return Object(h.jsxs)("div",Object(d.a)(Object(d.a)({className:"w-full mb-2 p-1 pl-3\nborder border-circle-gray-300 hover:border-circle-black shadow-sm rounded flex flex-row ".concat(a?"bg-white":"bg-circle-gray-300"),style:{minHeight:"40px"},ref:e.innerRef},e.draggableProps),{},{children:[Object(h.jsx)("div",Object(d.a)(Object(d.a)({className:"ml-auto mr-3 my-auto"},e.dragHandleProps),{},{children:Object(h.jsx)(D,{className:"w-4 h-6 py-1",color:"#AAAAAA"})})),a,!c&&Object(h.jsx)("button",{onClick:function(){i({modalDialogue:"delete",labels:o?o(r):["item"],onConfirm:function(){return n.remove(t)}})},type:"button",className:"my-auto mx-2",children:Object(h.jsx)(q,{className:" w-3 h-3",color:"#AAAAAA"})})]}))}},t)},G=function(e){var t,n=e.label,a=e.values,r=e.description,c=e.empty,o=e.children,i=e.listItem,s=e.labels,l=e.field,b=e.placeholder,m=e.arrayHelper,f=Object(y.a)(e,K),p=Object(j.a)(l,3),x=p[0],v=p[2],O=i;return Object(h.jsx)(z,{title:Object(h.jsxs)("div",{className:"flex flex-row",children:[n,r&&Object(h.jsx)(V,{description:r})]}),titleFont:f.titleFont,className:f.className,titleExpanded:f.titleExpanded,expanded:f.expanded,pinned:Object(h.jsxs)(h.Fragment,{children:[f.addButton&&Object(h.jsx)(L,{className:"ml-auto",onClick:function(){v.setValue(x.value?[].concat(Object(u.a)(x.value),[""]):[""])}}),f.pinned]}),children:(null===x||void 0===x||null===(t=x.value)||void 0===t?void 0:t.length)>0?Object(h.jsxs)(W.a,{onDragEnd:function(e){e.destination&&m.move(e.source.index,e.destination.index)},children:[o,Object(h.jsx)(W.c,{droppableId:"droppable",children:function(e){return Object(h.jsxs)("div",Object(d.a)(Object(d.a)({},e.droppableProps),{},{ref:e.innerRef,className:"pl-3 py-2 flex flex-col",children:[x.value.map((function(e,t){return Object(h.jsx)(Y,{lastRemaining:1===x.value.length,index:t,values:e,arrayHelper:m,labels:s,children:O?Object(h.jsx)(O,{setValue:function(e){m.replace(t,e)},item:e,index:t,values:a}):Object(h.jsx)("input",{className:"w-full h-full p-1",defaultValue:e,placeholder:b,onChange:function(e){m.replace(t,e.target.value)}})},t)})),e.placeholder]}))}})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"ml-2 font-medium text-sm text-circle-gray-500",children:c}),o]})})},X=function(e){var t=Object(M.e)(e);return Object(h.jsx)(M.b,Object(d.a)(Object(d.a)({},t),{},{name:e.name,render:function(n){return Object(h.jsx)(G,Object(d.a)(Object(d.a)({},e),{},{field:t,arrayHelper:n}))}}))},U=["variant","className","margin"],$={dangerous:{default:"bg-circle-red-dangerous text-white",active:"hover:bg-circle-red-dangerous-dark "},secondary:{default:"bg-circle-gray-250",active:"hover:bg-circle-gray-300"},flat:{default:"text-circle-gray-400",active:"hover:bg-circle-gray-300 text-white"},primary:{default:"bg-circle-blue text-white",active:"hover:bg-circle-blue-dark"}},Q=function(e){var t=e.variant,n=e.className,a=e.margin,r=Object(y.a)(e,U);return Object(h.jsx)("button",Object(d.a)(Object(d.a)({},r),{},{className:"".concat(n," ").concat(a?"mx-".concat(a):"mx-3"," w-min h-min whitespace-nowrap text-sm font-medium py-2 px-4 duration:50 transition-colors rounded-md2 ").concat($[t].default,"\n      ").concat(r.disabled?"opacity-50 cursor-default":$[t].active),children:r.children}))},ee=function(e){var t=e.children,n=e.centered,a=e.className;return Object(h.jsx)("footer",{className:"absolute bottom-0 flex flex-row right-0 py-6 px-2 bg-white border-t border-circle-gray-300 ".concat(a),style:{width:Jn},children:Object(h.jsx)("div",{className:"flex ".concat(n?"mx-auto":"ml-auto"),children:t})})},te=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 16 16",className:e.className,fill:e.color,children:Object(h.jsx)("path",{d:"M11.6568842,7.24302798 C11.9577895,7.54393324 12.0268424,7.98889307 11.864043,8.35591473 C11.8154617,8.46509554 11.746442,8.56741392 11.6568842,8.65697164 C11.6570333,8.65709247 11.6569588,8.65716701 11.6568842,8.65724154 L6.70713677,13.606989 C6.31661248,13.9975133 5.6834475,13.9975133 5.29292321,13.606989 L5.29286323,13.606929 C4.90233894,13.2164047 4.90233894,12.5832398 5.29286323,12.1927155 L9.53557889,7.94999981 L5.29286323,3.70728415 C4.90233894,3.31675986 4.90233894,2.68359488 5.29286323,2.29307059 L5.29292321,2.29301061 C5.6834475,1.90248631 6.31661248,1.90248631 6.70713677,2.29301061 L11.6568842,7.24275807 C11.6569588,7.24283261 11.6570333,7.24290715 11.6571078,7.2429817 Z"})})},ne=function(){var e=zt((function(e){return e.navigation})),t=Jt((function(e){return e.navigateBack})),n=[],a=e,r=0,c=function(){var c=r;if(r>0&&n.push(Object(h.jsx)(te,{className:"pl-1 w-5 h-5",color:"#6A6A6A"},"breadcrumb-".concat(c,"-arrow"))),n.push(Object(h.jsx)("button",{className:0===c?"font-medium text-black ml-1 cursor-default whitespace-nowrap":"text-circle-gray-500 hover:underline hover:text-black overflow-ellipsis whitespace-nowrap",onClick:function(){c>0&&t({distance:c})},children:c>1?"...":a.component.Label(a.props,e.props)},"breadcrumb-".concat(c,"-link"))),a.component.Icon){var o=a.component.Icon(a.props);o&&n.push(Object(h.jsx)("div",{children:o},"breadcrumb-".concat(c,"-icon")))}r++,a=a.from};do{c()}while(void 0!==a);return n.reverse(),Object(h.jsx)("nav",{className:"px-6",children:Object(h.jsx)("div",{className:"flex items-center",children:n.map((function(e){return e}))})})},ae="https://circleci.com/docs/configuration-reference",re={run:{name:"Run a command",description:"Used for invoking all command-line programs",summary:function(e){return Object(h.jsx)("p",{className:"inline",children:e.parameters.command})},docsLink:"".concat(ae,"#run"),fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(B,{label:"Name",name:"parameters.name"}),Object(h.jsx)(B,{label:"Command",as:"textarea",required:!0,name:"parameters.command"}),Object(h.jsx)(B,{label:"Shell",name:"parameters.shell"}),Object(h.jsx)(B,{label:"Background",type:"checkbox",name:"parameters.background"}),Object(h.jsx)(B,{label:"Working Directory",name:"parameters.working_directory"}),Object(h.jsx)(B,{label:"No Output Timeout",name:"parameters.no_output_timeout"}),Object(h.jsxs)(B,{label:"When",as:"select",name:"parameters.when",children:[Object(h.jsx)("option",{value:"undefined",children:"Select When"}),Object(h.jsx)("option",{value:"always",children:"Always"}),Object(h.jsx)("option",{value:"on_success",children:"On Success"}),Object(h.jsx)("option",{value:"on_fail",children:"On Fail"})]})]})},checkout:{name:"Checkout",docsLink:"".concat(ae,"#checkout"),description:"A special step used to check out source code to the configured path",fields:Object(h.jsx)(B,{label:"Path",name:"parameters.path"})},add_ssh_keys:{name:"Add SSH Keys",docsLink:"".concat(ae,"#checkout"),description:"A special step used to check out source code to the configured path",fields:Object(h.jsx)(X,{addButton:!0,expanded:!0,label:"Fingerprints",name:"parameters.fingerprints"})},persist_to_workspace:{name:"Persist To Workspace",description:"Persist a temporary file to be used by another job in the workflow",docsLink:"".concat(ae,"#persisttoworkspace"),fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(B,{label:"Root",name:"parameters.root",required:!0}),Object(h.jsx)(X,{expanded:!0,value:[""],label:"Paths",addButton:!0,name:"parameters.paths",required:!0})]})},attach_workspace:{name:"Attach Workspace",docsLink:"".concat(ae,"#attachworkspace"),description:"Attach the workflow\u2019s workspace to the current container",fields:Object(h.jsx)(B,{label:"At",name:"parameters.at",required:!0})},store_artifacts:{name:"Store Artifacts",docsLink:"".concat(ae,"#storeartifacts"),description:"Step to store artifacts such as logs and binaries",fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(B,{label:"Path",name:"parameters.path",required:!0}),Object(h.jsx)(B,{label:"Destination",name:"parameters.destination",required:!0})]})},store_test_results:{name:"Store Test Results",docsLink:"".concat(ae,"#storetestresults"),description:"Upload and store test results for a build",fields:Object(h.jsx)(B,{label:"Path",name:"parameters.path",required:!0})},save_cache:{name:"Save Cache",docsLink:"".concat(ae,"#savecache"),description:"Generates and stores a cache of a file or directory in object storage",fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(B,{label:"Path",name:"parameters.path",required:!0}),Object(h.jsx)(B,{label:"Key",name:"parameters.key",required:!0}),Object(h.jsxs)(B,{label:"When",name:"parameters.when",as:"select",children:[Object(h.jsx)("option",{value:"undefined",children:"Select When"}),Object(h.jsx)("option",{value:"always",children:"Always"}),Object(h.jsx)("option",{value:"on_success",children:"On Success"}),Object(h.jsx)("option",{value:"on_fail",children:"On Fail"})]})]})},restore_cache:{name:"Restore Cache",docsLink:"".concat(ae,"#restorecache"),description:"Restores a previously saved cache based on a key. Cache needs to have been saved first for this key using Save Cache step.",fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(B,{label:"Path",name:"parameters.path",required:!0}),Object(h.jsx)(X,{addButton:!0,expanded:!0,label:"Keys",name:"parameters.keys",required:!0}),Object(h.jsxs)(B,{label:"When",name:"parameters.when",as:"select",children:[Object(h.jsx)("option",{value:"undefined",children:"Select When"}),Object(h.jsx)("option",{value:"always",children:"Always"}),Object(h.jsx)("option",{value:"on_success",children:"On Success"}),Object(h.jsx)("option",{value:"on_fail",children:"On Fail"})]})]})}},ce=function(e){var t=e.className,n=e.color;return Object(h.jsx)("svg",{viewBox:"0 0 24 24",fill:n,className:t,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3498 10.2985C15.9624 10.6921 15.9674 11.3252 16.361 11.7127C16.7546 12.1001 17.3877 12.0951 17.7752 11.7015L21.7127 7.70152C22.0958 7.31231 22.0958 6.68769 21.7127 6.29848L17.7752 2.29848C17.3877 1.9049 16.7546 1.89991 16.361 2.28735C15.9674 2.67478 15.9624 3.30793 16.3498 3.70152L18.6124 6L5 6C3.34315 6 2 7.34314 2 9V11C2 11.5523 2.44772 12 3 12C3.55228 12 4 11.5523 4 11L4 9C4 8.44771 4.44772 8 5 8L18.6124 8L16.3498 10.2985ZM7.65015 13.7015C8.03759 13.3079 8.0326 12.6748 7.63902 12.2873C7.24543 11.8999 6.61229 11.9049 6.22485 12.2985L2.28735 16.2985C1.90422 16.6877 1.90422 17.3123 2.28735 17.7015L6.22485 21.7015C6.61229 22.0951 7.24543 22.1001 7.63902 21.7127C8.0326 21.3252 8.03759 20.6921 7.65015 20.2985L5.38758 18H19C20.6569 18 22 16.6569 22 15V13C22 12.4477 21.5523 12 21 12C20.4477 12 20 12.4477 20 13V15C20 15.5523 19.5523 16 19 16H5.38758L7.65015 13.7015Z"})})},oe=["name","namePrefix","values","label"],ie=function(e){var t=e.name,n=e.namePrefix,r=e.values,c=e.label,o=Object(y.a)(e,oe),i=r.parameters,s=Object(a.useMemo)((function(){return null!==i&&void 0!==i&&i.matrix?i.matrix.parameters[t]:void 0}),[i,t]),l=Object(M.e)(Object(d.a)(Object(d.a)({},o),{},{name:n?"".concat(n,".matrix.").concat(t):"matrix.parameters.".concat(t)})),u=Object(M.e)(Object(d.a)(Object(d.a)({},o),{},{name:n?"".concat(n,".").concat(t):t})),b=Object(j.a)(u,3),m=b[0],f=b[2],p=Object(j.a)(l,3),x=p[0],v=p[2],O=Object(a.useState)(void 0!==s),g=Object(j.a)(O,2),w=g[0],C=g[1],N=v.setValue;Object(a.useEffect)((function(){s&&s!==x.value&&N(s)}),[s,N,x]);var k=Object(a.useCallback)((function(){var e;w?(f.setValue(x.value?x.value[0]:""),v.setValue(void 0)):(v.setValue([null!==(e=m.value)&&void 0!==e?e:""]),f.setValue(void 0));C(!w)}),[m.value,x.value,f,v,w]),L=Object(a.useMemo)((function(){return Object(h.jsx)("button",{type:"button",onClick:k,className:"hover:bg-circle-gray-400 bg-circle-gray-300 p-1 rounded transition-colors w-8 h-8 ml-2",children:Object(h.jsx)(ce,{className:"w-5 h-5 m-auto"})})}),[k]);return Object(h.jsx)(h.Fragment,{children:w?Object(h.jsx)(M.b,Object(d.a)(Object(d.a)({},l),{},{name:n?"".concat(n,".matrix.parameters.").concat(t):"matrix.parameters.".concat(t),render:function(e){return Object(h.jsx)(G,Object(d.a)(Object(d.a)({},o),{},{description:o.description,label:c,titleFont:"font-medium text-sm",name:n?"".concat(n,".matrix.parameters.").concat(t):"matrix.parameters.".concat(t),arrayHelper:e,values:r,expanded:!0,addButton:!0,pinned:L,field:l}))}})):Object(h.jsx)(F,Object(d.a)(Object(d.a)({},o),{},{label:c,labelStyle:"h-8",description:o.description,name:n?"".concat(n,".").concat(t):t,field:u,pinned:L}))})},se=["paramList","parent","values","matrix"],le={integer:function(e){return{className:"w-full",type:"number",placeholder:e.defaultValue||"No default value"}},enum:function(e){return{as:"select",className:"w-full",children:e.enumValues.map((function(e){return Object(h.jsx)("option",{value:e,children:e})})),placeholder:"No default option"}},string:function(e){return{placeholder:e.defaultValue||"No default value"}},boolean:function(e){return{type:"checkbox"}},executor:function(e){return{}},steps:function(e){return{}},env_var_name:function(e){return{}}},de=function(e){var t=e.paramList,n=e.parent,r=e.values,c=e.matrix,o=Object(y.a)(e,se);return Object(h.jsx)(h.Fragment,{children:t.parameters.map((function(e,t){return Object(h.jsx)(a.Fragment,{children:c?Object(h.jsx)(ie,Object(d.a)(Object(d.a)({},o),{},{label:e.name,values:r,namePrefix:n,description:e.description,name:e.name},le[e.type](e))):Object(h.jsx)(B,Object(d.a)(Object(d.a)({},o),{},{label:e.name,description:e.description,values:r,name:n?"".concat(n,".").concat(e.name):e.name},le[e.type](e)))},t)}))})},ue=function(e){var t=e.id||"default",n=Object(a.useState)(e.id),r=Object(j.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(Object(b.a)({},t,e.activeTab||0)),s=Object(j.a)(i,2),l=s[0],u=s[1];return Object(a.useEffect)((function(){c!==t&&(o(t),void 0===l[t]&&u(Object(d.a)(Object(d.a)({},l),{},Object(b.a)({},t,e.activeTab||0))))}),[t,c,l,u,o,e.activeTab]),Object(h.jsxs)("div",{className:"h-full",children:[Object(h.jsx)("div",{className:"flex border-b border-circle-gray-300 pl-6",children:e.tabs.map((function(n,a){return Object(h.jsx)("button",{type:"button",className:"text-sm tracking-wide px-3 py-3 font-bold text-center ".concat(a===l[t]?"border-circle-blue border-b-4 text-circle-black":"text-circle-gray-600 mb-1 hover:text-circle-black"),onClick:function(){e.onChange&&e.onChange(a),u(Object(d.a)(Object(d.a)({},l),{},Object(b.a)({},t,a)))},children:n},a)}))}),Array.isArray(e.children)?e.children[l[t]]:e.children]})},be=function(e){return e.steps},je=function(e,t){return e.steps=t},me=function(e){var t,n,a,r=Jt((function(e){return e.navigateBack})),c=zt((function(e){return e.definitions})),o=e.subtype||(null===(t=e.values)||void 0===t?void 0:t.name),i=e.getter||be,s=e.setter||je,l="string"===typeof o,d=l&&o in re,j=d?re[o]:void 0;d||(n=l?null===(a=Object.values(c.commands).find((function(e){return e.value.name=o})))||void 0===a?void 0:a.value:o);return Object(h.jsxs)("div",{className:"h-full flex flex-col",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(ne,{}),Object(h.jsx)("h1",{className:"ml-6 text-2xl py-2 font-bold",children:"New Step"})]}),Object(h.jsx)(M.d,{initialValues:e.values||{parameters:void 0},enableReinitialize:!0,onSubmit:function(t){var a,c=d?o:null===(a=n)||void 0===a?void 0:a.name,l=d?t.parameters:t;r({toast:{label:null!==c&&void 0!==c?c:"",content:"saved",status:"success"},distance:1,applyValues:function(t){var n=Object(b.a)({},c,l),a=i(t)||[];if(e.editing){if(void 0===e.index)return console.error("Step index was undefined when editing step."),t;t.steps[e.index]=n,a[e.index]=n}else s(t,[].concat(Object(u.a)(a),[n]));return t}})},children:function(t){var a,c,o;return Object(h.jsxs)(M.c,{className:"flex flex-col flex-1",children:[Object(h.jsx)(ue,{tabs:["PROPERTIES"],children:Object(h.jsxs)("div",{className:"p-6 overflow-y-auto",style:{height:"calc(100vh - 200px)"},children:[Object(h.jsxs)("button",{className:"p-4 mb-4 w-full border-circle-gray-300 border hover:border-circle-black rounded text-left",type:"button",onClick:function(){e.selectSubtype()},disabled:e.editing,children:[Object(h.jsx)("p",{className:"font-bold",children:j?null===j||void 0===j?void 0:j.name:null===(a=n)||void 0===a?void 0:a.name}),Object(h.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:j?null===j||void 0===j?void 0:j.description:null===(c=n)||void 0===c?void 0:c.description})]}),j?null===j||void 0===j?void 0:j.fields:(null===(o=n)||void 0===o?void 0:o.parameters)&&Object(h.jsx)(de,{props:t,paramList:n.parameters})]})}),Object(h.jsx)("span",{className:"border-b border-circle-gray-300 mt-auto"}),Object(h.jsxs)(ee,{children:[Object(h.jsx)(Q,{variant:"secondary",type:"button",onClick:function(){r({distance:1})},children:"Cancel"}),Object(h.jsx)(Q,{variant:"primary",type:"submit",children:e.editing?"Save Step":"Create Step"})]})]})}})]})},fe={Component:me,Label:function(e){return Object(h.jsxs)("p",{children:[e.editing?"Edit":"New"," Step"]})},Icon:function(e){return Object(h.jsx)(C,{className:"w-6 h-8 py-2"})}},pe=function(e){var t=e.item,n=e.index,a=e.values,r=Jt((function(e){return e.navigateTo})),c="string"===typeof t?t:Object.keys(t)[0],o="object"===typeof t?t[c]:void 0;return Object(h.jsx)("button",{className:"flex-1 cursor-pointer rounded text-left text-circle-black leading-6",type:"button",onClick:function(){r({component:fe,props:{editing:!0,values:{name:c,parameters:o},index:n},values:a})},children:o&&"name"in o?o.name:c})},xe=n(43),ve=n(16),Oe=n.n(ve),he=n(195),ge={docker:{path:"M21.8083 11.2333C21.2031 10.8548 20.5126 10.6342 19.8 10.5917C19.678 10.5817 19.5554 10.5817 19.4333 10.5917C19.2035 9.82759 18.7218 9.16379 18.0667 8.70833C17.8984 8.59551 17.6733 8.62013 17.5333 8.76667C16.9483 9.5485 16.7295 10.545 16.9333 11.5C16.9482 11.6242 16.9087 11.7487 16.825 11.8417C16.753 11.9222 16.6497 11.9678 16.5417 11.9667H16.1667V9.91667C16.1667 9.68655 15.9801 9.5 15.75 9.5H13.6667V4.91667C13.6667 4.68655 13.4801 4.5 13.25 4.5H10.75C10.5199 4.5 10.3333 4.68655 10.3333 4.91667V7H5.75C5.51988 7 5.33333 7.18655 5.33333 7.41667V9.5H3.25C3.01988 9.5 2.83333 9.68655 2.83333 9.91667V12H2.41667C2.18655 12 2 12.1865 2 12.4167C2 18.8083 6.65833 19.5001 8.66667 19.5001C12.9113 19.5125 16.8417 17.2648 18.9833 13.6C20.1806 13.4421 21.2552 12.7852 21.9417 11.7917C22.053 11.5997 21.9943 11.3543 21.8083 11.2333ZM15.3333 12H13.6667V10.3333H15.3333V12ZM6.16667 12V10.3333H7.83333V12H6.16667ZM8.66667 12V10.3333H10.3333V12H8.66667ZM12.8333 7.83333V9.5H11.1667V7.83333H12.8333ZM11.1667 12V10.3333H12.8333V12H11.1667ZM11.1667 5.33333H12.8333V7H11.1667V5.33333ZM10.3333 9.5H8.66667V7.83333H10.3333V9.5ZM6.16667 7.83333H7.83333V9.5H6.16667V7.83333ZM3.66667 10.3333H5.33333V12H3.66667V10.3333ZM6.16667 16.1667C5.70643 16.1667 5.33333 15.7936 5.33333 15.3333C5.33333 14.8731 5.70643 14.5 6.16667 14.5C6.6269 14.5 7 14.8731 7 15.3333C7 15.7936 6.6269 16.1667 6.16667 16.1667Z"},macos:{path:"M20 15.8732C19.7014 16.8247 19.2304 17.7762 18.5872 18.7278C17.5994 20.2198 16.6155 20.9657 15.6353 20.9657C15.2601 20.9657 14.7241 20.844 14.0273 20.6004C13.3687 20.3568 12.7906 20.235 12.2929 20.235C11.8258 20.235 11.2821 20.3606 10.6619 20.6118C10.0416 20.8706 9.53625 21 9.14573 21C7.98181 21 6.82939 20.0142 5.68844 18.0427C4.56281 16.0559 4 14.1414 4 12.2993C4 10.5637 4.43264 9.14022 5.29792 8.02885C6.15554 6.93269 7.24288 6.38462 8.55994 6.38462C9.11127 6.38462 9.78894 6.4988 10.593 6.72716C11.3893 6.95553 11.9177 7.06971 12.178 7.06971C12.5226 7.06971 13.0701 6.9403 13.8205 6.68149C14.6016 6.42268 15.2639 6.29327 15.8076 6.29327C16.7188 6.29327 17.5343 6.54067 18.2541 7.03546C18.6523 7.30949 19.0505 7.6901 19.4487 8.17728C18.8437 8.6873 18.4073 9.13642 18.1393 9.52464C17.6415 10.2402 17.3927 11.028 17.3927 11.8882C17.3927 12.8321 17.6569 13.6809 18.1852 14.4345C18.7136 15.1881 19.3185 15.6677 20 15.8732ZM15.6813 2.47957C15.6813 2.94391 15.5702 3.46154 15.3482 4.03245C15.1184 4.60337 14.7624 5.12861 14.28 5.60817C13.8665 6.01923 13.453 6.29327 13.0395 6.43029C12.7562 6.51402 12.358 6.57873 11.8449 6.6244C11.8679 5.49018 12.1665 4.51202 12.7408 3.6899C13.3075 2.8754 14.2647 2.3121 15.6123 2C15.62 2.02284 15.6296 2.0647 15.6411 2.1256C15.6525 2.1865 15.6621 2.22837 15.6698 2.2512C15.6698 2.28165 15.6717 2.31971 15.6755 2.36538C15.6793 2.41106 15.6813 2.44912 15.6813 2.47957Z"},windows:{path:"M6.58594 0C4.59594 0 2.66498 0.954141 2.58398 0.994141L2.10938 1.23047L1.31836 7.16797C2.39736 6.59597 3.85291 6 5.25391 6C6.14091 6 7.34039 6.49052 8.65039 7.10352L9.5 0.984375C8.427 0.427375 7.42694 0 6.58594 0ZM18.5527 0.589844L16.6602 1.97266C16.6472 1.98266 15.2392 3 13.8242 3C13.3182 3 12.325 2.50905 11.377 1.99805L10.543 8.00781C11.624 8.51781 12.7339 9 13.2539 9C14.8829 9 16.5417 8.32397 17.5938 7.79297L18.5527 0.589844ZM5.25391 8C3.70491 8 1.75047 9.16489 0.980469 9.71289L0 17.0527L1.73438 16.0996C2.29037 15.7936 4.00691 15 5.25391 15C5.72091 15 6.57973 15.4274 7.42773 15.8984L8.36133 9.17969C7.16533 8.60769 5.83791 8 5.25391 8ZM10.2559 10.0781L9.29883 16.9609C10.3668 17.5449 11.3682 18 12.2422 18C14.2782 18 15.929 17.0068 15.998 16.9648L16.4043 16.7168L17.2832 10.127C16.1312 10.591 14.7039 11 13.2539 11C12.4579 11 11.4099 10.6021 10.2559 10.0781Z",viewBox:"0 0 19 18"},machine:{path:"M2.5 4C2.22386 4 2 4.22386 2 4.5V7.5C2 7.77614 2.22386 8 2.5 8H21.5C21.7761 8 22 7.77614 22 7.5V4.5C22 4.22386 21.7761 4 21.5 4H2.5ZM7 5H5V7H7V5ZM2.5 10C2.22386 10 2 10.2239 2 10.5V13.5C2 13.7761 2.22386 14 2.5 14H21.5C21.7761 14 22 13.7761 22 13.5V10.5C22 10.2239 21.7761 10 21.5 10H2.5ZM7 11H5V13H7V11ZM2 16.5C2 16.2239 2.22386 16 2.5 16H21.5C21.7761 16 22 16.2239 22 16.5V19.5C22 19.7761 21.7761 20 21.5 20H2.5C2.22386 20 2 19.7761 2 19.5V16.5ZM5 17H7V19H5V17Z"}},we=function(e){var t,n=ge[e.type||"machine"];return Object(h.jsx)("svg",{viewBox:null!==(t=n.viewBox)&&void 0!==t?t:"0 0 24 24",className:e.className,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:e.color,d:n.path})})},ye=function(e){return Object(h.jsxs)("div",{className:"flex flex-row ",children:[Object(h.jsx)(we,{className:"mr-4 w-6 h-6"}),Object(h.jsx)("h3",{className:"my-auto",children:e.data.name})]})},Ce={docker:{text:"Docker",component:f.executors.DockerExecutor,resourceClasses:["small","medium","medium+","large","xlarge","2xlarge","2xlarge+"],fields:Object(h.jsx)(B,{label:"Image",name:"docker[0].image",required:!0}),docsLink:"https://circleci.com/docs/2.0/executor-types/#using-docker",description:"Steps run in container with provided image"},machine:{text:"Machine",component:f.executors.MachineExecutor,resourceClasses:["medium","large","xlarge","2xlarge"],fields:Object(h.jsx)(B,{label:"Image",name:"machine.image",required:!0}),docsLink:"https://circleci.com/docs/2.0/executor-types/#using-machine",description:"Steps run on Linux Virtual Machine"},macos:{text:"MacOS",component:f.executors.MacOSExecutor,resourceClasses:["medium","large"],fields:Object(h.jsx)(B,{label:"Xcode",name:"macos.xcode",required:!0}),docsLink:"https://circleci.com/docs/2.0/executor-types/#using-macos",description:"Steps run on macOS Virtual Machine with specific Xcode version"},windows:{text:"Windows",component:f.executors.WindowsExecutor,resourceClasses:["windows.medium","windows.large","windows.xlarge","windows.2xlarge"],fields:Object(h.jsx)(B,{label:"Image",name:"machine.image",required:!0}),docsLink:"https://circleci.com/docs/2.0/executor-types/#using-the-windows-executor",description:"Steps run on Windows Virtual Machine"}},Ne=function(e){var t,n,a;return e.subtype?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(B,{label:"Name",name:"name",required:!0}),Object(h.jsx)(B,{label:"Description",name:"description",as:"textarea"}),Object(h.jsx)(B,{label:"Resource Class",name:"resource_class",required:!0,as:"select",children:null===(t=Ce[e.subtype])||void 0===t||null===(n=t.resourceClasses)||void 0===n?void 0:n.map((function(e){return Object(h.jsx)("option",{value:e,className:"w-min",children:e},e)}))}),null===(a=Ce[e.subtype])||void 0===a?void 0:a.fields,Object(h.jsx)(B,{label:"Shell",name:"shell"}),Object(h.jsx)(B,{label:"Working Directory",name:"working_directory"})]}):Object(h.jsx)("p",{children:"Something went wrong!"})},ke={string:{text:"String",description:"Sequence of characters that are optionally enlcosed by quotes.\n      Empty strings are treated as falsey while in evaluation of when clauses, and non-empty strings are treated as truthy.",fields:Object(h.jsx)(B,{name:"default",as:"textarea",label:"Default Value"})},boolean:{text:"Boolean",description:'A Boolean represents a true/false value. Such as "on" or "off".',fields:Object(h.jsxs)(B,{name:"default",as:"select",transform:Boolean,label:"Default Value",children:[Object(h.jsx)("option",{value:void 0,children:"No default"}),Object(h.jsx)("option",{value:"false",children:"false"}),Object(h.jsx)("option",{value:"true",children:"true"})]})},integer:{text:"Integer",description:"A whole number.",fields:Object(h.jsx)(B,{name:"default",type:"number",label:"Default Value"})},enum:{text:"Enum",description:"Enums allow to define a list of any values,\n       which are useful in the case to enforce that the value must be one from a specific set of string values",fields:function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(X,{label:"Values",name:"enum",expanded:!0,values:e.values,addButton:!0,listItem:function(e){return Object(h.jsx)("input",{className:"w-full h-full p-1",defaultValue:e.item,placeholder:"Enum Value Option",onChange:function(t){e.setValue(t.target.value)}})}}),Object(h.jsxs)(B,{className:"mt-2",name:"default",as:"select",label:"Default Value",children:[Object(h.jsx)("option",{value:"undefined",children:"No default"}),e.values.enum.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]})]})}},executor:{text:"Executor",fields:function(e){var t;return Object(h.jsx)(B,{label:"Executor",as:"select",name:"executor.name",required:!0,children:null===(t=e.executors)||void 0===t?void 0:t.map((function(e){return Object(h.jsx)("option",{value:e.name,children:e.name},e.name)}))})}},steps:{text:"Steps",fields:Object(h.jsx)("input",{type:"text"})},env_var_name:{text:"Environment Variable Name",fields:Object(h.jsx)("input",{type:"text"})}},Le={pipeline:{types:["string","boolean","integer","enum"]},executor:{types:["string","boolean","integer","enum"]},job:{types:["string","boolean","integer","enum","env_var_name"]},command:{types:["string","boolean","integer","enum","env_var_name"]}},Ee=["truncate","description"],Me=function(e){var t=e.truncate,n=e.description,a=Object(y.a)(e,Ee);return Object(h.jsx)("div",{className:"pb-4",children:Object(h.jsxs)("div",{className:"p-4 w-full pr-1 border-circle-gray-300 border rounded text-left  max-h-36 flex flex-row",children:[Object(h.jsxs)("div",{className:"flex flex-col flex-1",children:[Object(h.jsxs)("div",{className:"flex flex-row",children:[a.icon,Object(h.jsx)("p",{className:"font-medium",children:a.title})]}),n&&Object(h.jsx)("p",{className:"text-sm mt-2 leading-4 text-circle-gray-500 overflow-ellipsis max-h-32 overflow-hidden",children:t&&n.length>t?(null===n||void 0===n?void 0:n.slice(0,t))+"...":n})]}),Object(h.jsxs)("div",{className:"flex flex-col px-2",children:[a.pinned&&Object(h.jsx)("div",{className:"ml-auto z-10 rounded ",children:a.pinned}),Object(h.jsx)("div",{className:"flex-1 flex",children:Object(h.jsx)(Q,{margin:"0",type:"button",variant:"secondary",className:"my-auto",onClick:a.onClick,children:"Select"})})]})]})})},Se={Component:function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(ne,{}),Object(h.jsxs)("div",{className:"ml-6 flex py-3",children:[Object(h.jsx)(we,{className:"w-8 h-8 p-1 pl-0 mr-1"}),Object(h.jsx)("h1",{className:"text-2xl font-bold",children:"New Executor"})]}),Object(h.jsx)("div",{className:"flex border-b border-circle-gray-300 pl-6",children:Object(h.jsx)("div",{className:"text-sm tracking-wide px-3 py-3 font-bold text-center border-b-4 border-black text-circle-black",children:"TYPE"})})]}),Object(h.jsx)("div",{className:"p-6",children:Object.keys(Ce).map((function(t){return Object(h.jsx)(Me,{icon:Object(h.jsx)(we,{className:"w-6 mr-2",type:t}),description:Ce[t].description,title:Ce[t].text,onClick:function(){e.setSubtype(t)}},t)}))})]})},Label:function(e){return Object(h.jsx)("p",{children:"New Executor"})},Icon:function(e){return Object(h.jsx)(we,{className:"w-6 h-8 py-2"})}},Ve=n(15),_e=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 24 24",className:e.className,fill:e.color,children:Object(h.jsx)("path",{d:"M12.458388,3 C17.7284428,3 22,7.25487688 22,12.5009275 C22,17.7469783 17.7286827,22 12.458388,22 C9.24779218,22 6.40748266,20.4195905 4.67890641,17.9975161 L4.51046025,18 C5.52650577,18 6.4784703,17.7267799 7.29630887,17.2500927 C8.5797622,18.6332003 10.4175246,19.5 12.4581919,19.5 C16.3422622,19.5 19.4895397,16.3667214 19.4895397,12.5010252 C19.4895397,8.63532901 16.3417423,5.5 12.4581919,5.5 C10.4182181,5.5 8.58077831,6.36686635 7.29682565,7.75083018 C6.52574446,7.30040157 5.63375878,7.03136434 4.68109466,7.00257493 C6.40892952,4.58026814 9.24869152,3 12.458388,3 Z M12.4596333,9.00000001 C14.4011972,9.00000001 15.9748954,10.5675188 15.9748954,12.5003076 C15.9748954,14.4330964 14.4012513,16 12.4596333,16 C11.2973265,16 10.266758,15.437833 9.62706371,14.5716975 C9.88962048,13.931837 10.0334728,13.2326478 10.0334728,12.5 C10.0334728,11.767055 9.88950371,11.0675956 9.62819064,10.4281361 C10.2669454,9.56228031 11.2974499,9.00000001 12.4596333,9.00000001 Z M4.50987191,10 C5.89718507,10 7.0209205,11.1200937 7.0209205,12.5002929 C7.0209205,13.8804921 5.89718507,15 4.50987191,15 C3.12373543,15 2,13.8804921 2,12.5002929 C2,11.1200937 3.12373543,10 4.50987191,10 Z"})})},Re=function(e){return Object(h.jsx)("svg",{role:"img",focusable:"false",viewBox:"0 0 24 24","aria-label":"Status On Hold",fill:"#8e62bd",className:e.className,children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M12,2 C6.48,2 2,6.48 2,12 C2,17.52 6.48,22 12,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 12,2 Z M11,16 L9,16 L9,8 L11,8 L11,16 Z M15,16 L13,16 L13,8 L15,8 L15,16 Z"})})},He=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 24 24",className:e.className,children:e.filled?Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM16 13C16.5523 13 17 12.5523 17 12C17 11.4477 16.5523 11 16 11H7.99997C7.44769 11 6.99997 11.4477 6.99997 12C6.99997 12.5523 7.44769 13 7.99997 13H16Z",fill:e.color}):Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.02942 12C4.02942 7.58172 7.61114 4 12.0294 4C16.4477 4 20.0294 7.58172 20.0294 12C20.0294 16.4183 16.4477 20 12.0294 20C7.61114 20 4.02942 16.4183 4.02942 12ZM12.0294 2C6.50657 2 2.02942 6.47715 2.02942 12C2.02942 17.5228 6.50657 22 12.0294 22C17.5523 22 22.0294 17.5228 22.0294 12C22.0294 6.47715 17.5523 2 12.0294 2ZM16.022 13.0294C16.5743 13.0335 17.0253 12.589 17.0294 12.0368C17.0334 11.4845 16.589 11.0335 16.0367 11.0294L8.03675 10.9706C7.48448 10.9665 7.03348 11.4109 7.02942 11.9632C7.02535 12.5155 7.46976 12.9665 8.02203 12.9705L16.022 13.0294Z",fill:e.color})})},Ie=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 ".concat(e.filled?"20 20":"16 16"),className:e.className,children:e.filled?Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 9V6C11 5.44772 10.5523 5 10 5C9.44771 5 9 5.44772 9 6V9H6C5.44772 9 5 9.44771 5 10C5 10.5523 5.44772 11 6 11H9V14C9 14.5523 9.44771 15 10 15C10.5523 15 11 14.5523 11 14V11H14C14.5523 11 15 10.5523 15 10C15 9.44771 14.5523 9 14 9H11ZM10 0C15.52 0 20 4.48 20 10C20 15.52 15.52 20 10 20C4.48 20 0 15.52 0 10C0 4.48 4.48 0 10 0Z",fill:e.color}):Object(h.jsxs)("g",{children:[Object(h.jsx)("mask",{id:"mask0_266_8047",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66764 7.33357V5.33357C8.66764 4.96538 8.36916 4.66691 8.00097 4.66691C7.63278 4.66691 7.33431 4.96538 7.33431 5.33357V7.33357H5.33431C4.96612 7.33357 4.66764 7.63205 4.66764 8.00024C4.66764 8.36843 4.96612 8.66691 5.33431 8.66691H7.33431V10.6669C7.33431 11.0351 7.63278 11.3336 8.00097 11.3336C8.36916 11.3336 8.66764 11.0351 8.66764 10.6669V8.66691H10.6676C11.0358 8.66691 11.3343 8.36843 11.3343 8.00024C11.3343 7.63205 11.0358 7.33357 10.6676 7.33357H8.66764ZM8.00065 1.8335C4.59679 1.8335 1.83398 4.59631 1.83398 8.00016C1.83398 11.404 4.59679 14.1668 8.00065 14.1668C11.4045 14.1668 14.1673 11.404 14.1673 8.00016C14.1673 4.59631 11.4045 1.8335 8.00065 1.8335ZM0.833984 8.00016C0.833984 4.04402 4.04451 0.833496 8.00065 0.833496C11.9568 0.833496 15.1673 4.04402 15.1673 8.00016C15.1673 11.9563 11.9568 15.1668 8.00065 15.1668C4.04451 15.1668 0.833984 11.9563 0.833984 8.00016Z",fill:"white"})}),Object(h.jsx)("g",{mask:"url(#mask0_266_8047)",children:Object(h.jsx)("rect",{width:"16",height:"16",fill:e.color})})]})})},Pe=function(e){var t=e.item,n=e.index,a=e.values,r=e.type,c=Jt((function(e){return e.navigateTo})),o=Object.keys(t)[0],i=t[o];return Object(h.jsx)("button",{className:"flex-1 cursor-pointer text-left rounded text-circle-black leading-6",type:"button",onClick:function(){c({component:fe,props:{editing:!0,values:{name:o,parameters:i},getter:function(e){return e.parameters[r]},setter:function(e,t){return e.parameters[r]=t},index:n},values:Object(d.a)({},a)})},children:o})},Ae=function(e){return Object(h.jsx)("svg",{className:e.className,viewBox:"0 0 13 18",fill:e.color,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.83268 3.58329C1.83268 2.89294 2.39233 2.33329 3.08268 2.33329C3.77304 2.33329 4.33268 2.89294 4.33268 3.58329C4.33268 4.27365 3.77304 4.83329 3.08268 4.83329C2.39233 4.83329 1.83268 4.27365 1.83268 3.58329ZM3.91602 6.37918C5.1208 6.02061 5.99935 4.90455 5.99935 3.58329C5.99935 1.97246 4.69351 0.666626 3.08268 0.666626C1.47185 0.666626 0.166016 1.97246 0.166016 3.58329C0.166016 4.90455 1.04456 6.02061 2.24935 6.37918V11.6207C1.04456 11.9793 0.166016 13.0954 0.166016 14.4166C0.166016 16.0275 1.47185 17.3333 3.08268 17.3333C4.69351 17.3333 5.99935 16.0275 5.99935 14.4166C5.99935 13.0954 5.1208 11.9793 3.91602 11.6207V10.9244C4.14011 10.6913 4.80727 10.25 6.41602 10.25C8.71437 10.25 10.0623 9.25052 10.4588 8.07974C11.7268 7.76287 12.666 6.6161 12.666 5.24996C12.666 3.63913 11.3602 2.33329 9.74935 2.33329C8.13852 2.33329 6.83268 3.63913 6.83268 5.24996C6.83268 6.45658 7.56539 7.49206 8.61014 7.93576C8.29175 8.2588 7.65721 8.58329 6.41602 8.58329C5.40781 8.58329 4.57259 8.73647 3.91602 8.99525V6.37918ZM9.74935 6.49996C10.4397 6.49996 10.9993 5.94032 10.9993 5.24996C10.9993 4.5596 10.4397 3.99996 9.74935 3.99996C9.05899 3.99996 8.49935 4.5596 8.49935 5.24996C8.49935 5.94032 9.05899 6.49996 9.74935 6.49996ZM3.08424 13.1666C3.08372 13.1666 3.0832 13.1666 3.08268 13.1666C3.08216 13.1666 3.08164 13.1666 3.08112 13.1666C2.39148 13.1675 1.83268 13.7268 1.83268 14.4166C1.83268 15.107 2.39233 15.6666 3.08268 15.6666C3.77304 15.6666 4.33268 15.107 4.33268 14.4166C4.33268 13.7268 3.77388 13.1675 3.08424 13.1666Z",fill:"#161616"})})},Te=function(e){return Object(h.jsx)("svg",{className:e.className,viewBox:"0 0 14 14",fill:e.color,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1752 0.528514C10.9148 0.268165 10.4927 0.268165 10.2324 0.528514L8.34677 2.41413C8.08642 2.67448 8.08642 3.09659 8.34677 3.35694L10.7038 5.71396C10.9641 5.97431 11.3862 5.97431 11.6466 5.71396L13.5322 3.82835C13.7926 3.568 13.7926 3.14589 13.5322 2.88554L11.1752 0.528514ZM9.76098 2.88554L10.7038 1.94273L12.118 3.35694L11.1752 4.29975L9.76098 2.88554ZM7.86481 3.83886C7.60446 3.57851 7.18235 3.57851 6.922 3.83886L1.07881 9.68205C0.956429 9.80443 0.886438 9.96961 0.883634 10.1427L0.844814 12.5385C0.841889 12.719 0.912315 12.893 1.03999 13.0207C1.16766 13.1484 1.34166 13.2188 1.52219 13.2159L3.91804 13.1771C4.09109 13.1743 4.25626 13.1043 4.37864 12.9819L10.2218 7.13869C10.4822 6.87834 10.4822 6.45623 10.2218 6.19588L7.86481 3.83886ZM2.21242 10.4341L7.39341 5.25307L8.80762 6.66728L3.62663 11.8483L2.18913 11.8716L2.21242 10.4341Z"})})},Ze=function(e){return Object(h.jsx)("svg",{className:e.className,viewBox:"0 0 20 20",fill:e.color,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99862 10.9004L1.53617 4.76452C0.0940592 2.78162 1.51051 0 3.96238 0L16.0348 0C18.4867 0 19.9032 2.78161 18.4611 4.76451L16.8436 3.58817C17.3243 2.9272 16.8521 2 16.0348 2L3.96238 2C3.14509 2 2.67294 2.9272 3.15364 3.58817L7.99862 10.25V16.447C7.99862 17.1743 8.75032 17.6583 9.41242 17.3574L11.4124 16.4483C11.7694 16.286 11.9986 15.93 11.9986 15.5379V10.25L16.8436 3.58817L18.4611 4.76451L13.9986 10.9004V15.5379C13.9986 16.7143 13.311 17.7822 12.24 18.269L10.24 19.1781C8.25373 20.081 5.99862 18.6289 5.99862 16.447V10.9004Z",fill:"#343434"})})},Fe=function(e){return Object(h.jsx)("svg",{className:e.className,viewBox:"0 0 18 18",fill:"none",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9101 0.910704C11.2356 0.585267 11.7632 0.585267 12.0886 0.910704L17.0886 5.9107C17.4141 6.23614 17.4141 6.76378 17.0886 7.08922L7.08863 17.0892C6.8503 17.3275 6.49187 17.3988 6.18047 17.2699C5.86907 17.1409 5.66604 16.837 5.66604 16.5V12.3333H1.49937C1.16232 12.3333 0.858458 12.1303 0.729474 11.8189C0.60049 11.5075 0.671786 11.149 0.910118 10.9107L10.9101 0.910704ZM3.51122 10.6666H6.49937C6.95961 10.6666 7.33271 11.0397 7.33271 11.5V14.4881L15.3209 6.49996L11.4994 2.67847L3.51122 10.6666Z",fill:"#161616"})})},Be=function(e){var t=e.item,n=e.setValue;return Object(h.jsx)("textarea",{className:"w-full pl-1 py-1",rows:1,defaultValue:t,placeholder:"Filter string or regex",onChange:function(e){n(e.target.value)}})},We=function(e){var t,n=null===(t=e.parameters)||void 0===t?void 0:t.filters,a=null===n||void 0===n?void 0:n.branches,r=null===n||void 0===n?void 0:n.tags;return{branches:{only:(null===a||void 0===a?void 0:a.only)||[""],ignore:(null===a||void 0===a?void 0:a.ignore)||[""]},tags:{only:(null===r||void 0===r?void 0:r.only)||[""],ignore:(null===r||void 0===r?void 0:r.ignore)||[""]}}},qe=function(e){var t=e.type,n=e.values,a=e.target;return Object(h.jsx)(X,{label:t,name:"".concat(a,".").concat(t.toLowerCase()),values:n,expanded:!0,required:!0,listItem:Be,addButton:!0})},De={Component:function(e){e.job;var t=e.values,n=Jt((function(e){return e.navigateBack})),a=["BRANCHES","TAGS"];return Object(h.jsxs)("div",{className:"h-full bg-white flex flex-col overflow-y-auto",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(ne,{}),Object(h.jsxs)("div",{className:"pl-6 pr-5",children:[Object(h.jsx)("h1",{className:"pt-3 text-2xl font-bold",children:"Filters"}),Object(h.jsx)("div",{className:" py-3 flex text-sm text-circle-gray-500",children:"A map defining rules for execution on specific branches or tags"})]})]}),Object(h.jsx)(M.d,{initialValues:We(t),enableReinitialize:!0,onSubmit:function(e){n({distance:1,applyValues:function(t){var n,a,r,c,o=function(e){var t=e.filter((function(e){return e}));return t.length>0?t:void 0},i={only:o(e.branches.only),ignore:o(e.branches.ignore)},s=(null===(n=i.only)||void 0===n?void 0:n.length)||(null===(a=i.ignore)||void 0===a?void 0:a.length),l={only:o(e.tags.only),ignore:o(e.tags.ignore)},u=(null===(r=l.only)||void 0===r?void 0:r.length)||(null===(c=l.ignore)||void 0===c?void 0:c.length);return Object(d.a)(Object(d.a)({},t),{},{parameters:Object(d.a)(Object(d.a)({},t.parameters),{},{filters:s||u?{branches:s?i:void 0,tags:u?l:void 0}:void 0})})}})},children:function(e){return Object(h.jsxs)(M.c,{className:"flex flex-col flex-1",children:[Object(h.jsx)(ue,{tabs:a,children:["branches","tags"].map((function(t){return Object(h.jsxs)("div",{className:"p-6",children:[Object(h.jsx)(qe,Object(d.a)(Object(d.a)({type:"Only"},e),{},{target:t})),Object(h.jsx)(qe,Object(d.a)(Object(d.a)({type:"Ignore"},e),{},{target:t}))]},t)}))}),Object(h.jsx)("div",{className:"border-t border-circle-gray-300 p-6 flex",children:Object(h.jsx)(Q,{type:"submit",className:"ml-auto",variant:"primary",children:"Save Filter"})})]})}})]})},Label:function(e){return Object(h.jsx)("p",{children:"Filters"})}},Je=function(e){var t=e.values,n="branches"===e.target?Ae:Fe;return Object(h.jsx)(h.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(h.jsxs)("div",{className:"w-full mt-2 pl-2 py-1 px-3 bg-white border border-circle-gray-300 hover:border-circle-black rounded flex flex-row h-10",children:[Object(h.jsx)(n,{className:"w-3 ml-1 mr-2 my-auto"}),Object(h.jsx)("p",{className:"flex-1 overflow-ellipsis overflow-hidden whitespace-nowrap",children:e})]},e)}))})},ze=function(e){var t,n,a=e.condition.toLowerCase(),r=function(e,t){var n=null===e||void 0===e?void 0:e.branches,a=null===e||void 0===e?void 0:e.tags;return{branches:n&&t in n?n[t]:[],tags:a&&t in a?a[t]:[]}}(e.filters,a);return Object(h.jsx)(h.Fragment,{children:((null===(t=r.branches)||void 0===t?void 0:t.length)>0||(null===(n=r.tags)||void 0===n?void 0:n.length)>0)&&Object(h.jsxs)("div",{className:"pl-4 pt-1",children:[Object(h.jsx)("h3",{className:"text-sm font-medium",children:e.condition}),Object(h.jsx)(Je,{values:r.branches,target:"branches"}),Object(h.jsx)(Je,{values:r.tags,target:"tags"})]})})},Ke=function(e){var t,n,a,r,c,o,i,s,l,d=e.values,u=e.source,b=Jt((function(e){return e.navigateTo})),j=null===(t=d.parameters)||void 0===t?void 0:t.filters,m=((null===j||void 0===j||null===(n=j.tags)||void 0===n||null===(a=n.only)||void 0===a?void 0:a.length)||0)+((null===j||void 0===j||null===(r=j.tags)||void 0===r||null===(c=r.ignore)||void 0===c?void 0:c.length)||0)+(((null===j||void 0===j||null===(o=j.branches)||void 0===o||null===(i=o.only)||void 0===i?void 0:i.length)||0)+((null===j||void 0===j||null===(s=j.branches)||void 0===s||null===(l=s.ignore)||void 0===l?void 0:l.length)||0));return Object(h.jsx)(z,{title:"Filters",expanded:!0,titleFont:"font-medium text-sm",className:"mb-4",pinned:Object(h.jsx)("button",{type:"button",className:"bg-circle-gray-300 transition-colors h-8 w-8 rounded hover:bg-circle-gray-400 ml-auto",onClick:function(){b({component:De,props:{source:u,values:d},values:d})},children:Object(h.jsx)(Te,{className:"m-auto w-4"})}),children:m>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ze,{filters:j,condition:"Only"}),Object(h.jsx)(ze,{filters:j,condition:"Ignore"})]}):Object(h.jsx)(E,{label:"No Filters Yet",Logo:Ze,description:"Edit filters by clicking the button above"})})},Ye={Component:function(e){var t,n=Object(a.useState)({}),r=Object(j.a)(n,2),c=r[0],o=r[1],i=null===(t=c[e.nonce])||void 0===t?void 0:t.current,s=e.typePage.Component,l=e.menuPage;return Object(h.jsx)("div",{className:"h-full flex flex-col",children:i?Object(h.jsx)(l,Object(d.a)({subtype:i,selectSubtype:function(){o(Object(d.a)(Object(d.a)({},c),{},Object(b.a)({},e.nonce,{current:void 0,previous:i})))}},e.menuProps)):Object(h.jsx)(s,Object(d.a)(Object(d.a)({},e.typeProps),{},{setSubtype:function(t){o(Object(d.a)(Object(d.a)({},c),{},Object(b.a)({},e.nonce,{current:t,previous:i})))}}))})},Label:function(e){return e.typePage.Label(e)},Icon:function(e){return e.typePage.Icon?e.typePage.Icon(e):null}},Ge=function(e,t,n){return{component:Ye,props:Object(d.a)(Object(d.a)({},e),{},{nonce:Object(he.a)()}),values:t,subscriptions:n}},Xe=function(e){var t=e.item,n=e.setValue;return Object(h.jsx)("input",{className:"w-full h-full p-1",defaultValue:t,placeholder:"Context name",onChange:function(e){n(e.target.value)}})},Ue=function(e){var t=e.values,n=e.label,a=e.type,r=Jt((function(e){return e.navigateTo}));return Object(h.jsx)(X,{label:n,name:"parameters.".concat(a),className:"pb-4",expanded:!0,titleFont:"font-medium text-sm",required:!0,listItem:function(e){return Object(h.jsx)(Pe,Object(d.a)(Object(d.a)({},e),{},{values:t,type:a}))},empty:Object(h.jsx)(E,{label:"No ".concat(n," Yet"),Logo:C,description:"Add a step by clicking the button above"}),pinned:Object(h.jsx)(L,{className:"ml-auto flex",onClick:function(){r(Ge({typePage:Rt,menuPage:me,menuProps:{getter:function(e){return e.parameters&&e.parameters[a]},setter:function(e,t){return e.parameters?e.parameters[a]=t:e.parameters=Object(b.a)({},a,t)}}},t))}})})},$e={Component:function(e){var t=e.source,n=e.values,a=e.id,r=Jt((function(e){return e.navigateBack})),c=zt((function(e){return e.definitions})),o=Jt((function(e){return e.updateWorkflowElement}));return Object(h.jsxs)("div",{className:"h-full flex flex-col",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(ne,{}),Object(h.jsx)("h1",{className:"ml-6 text-2xl py-2 font-bold",children:"Edit Staged Job"})]}),Object(h.jsx)(M.d,{initialValues:{parameters:Object(d.a)({name:"",context:[""],matrix:{parameters:{}}},n.parameters)},enableReinitialize:!0,onSubmit:function(e){var n,i=e.parameters,s=i.context?i.context.filter(Boolean):void 0,l=i.matrix,m=Object(d.a)(Object(d.a)({},i),{},{context:s&&s.length>0?s:void 0,matrix:null!==(n=i.matrix)&&void 0!==n&&n.parameters&&Object.keys(l.parameters).length>0?l:void 0}),p=f.parsers.parseWorkflowJob(t.name,Object.assign.apply(Object,[{}].concat(Object(u.a)(Object.entries(m).map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return a?Object(b.a)({},n,a):void 0}))))),Nt(c.jobs),Nt(c.orbs));o({id:a,data:p}),r({distance:1})},children:function(e){return Object(h.jsxs)(M.c,{className:"flex flex-col flex-1",children:[Object(h.jsx)(ue,{tabs:["PROPERTIES"],children:Object(h.jsxs)("div",{className:"p-6 overflow-y-auto",style:{height:"calc(100vh - 230px)"},children:[Object(h.jsx)(B,{type:"button",name:"name",label:"Source Job",children:Object(h.jsxs)("div",{className:"w-full mb-2 p-2 text-sm  text-left text-circle-black  bg-circle-gray-200 border border-circle-gray-300 rounded flex flex-row",children:[Object(h.jsx)(_e,{className:"ml-1 mr-2 w-5 h-5"}),Object(h.jsx)("p",{className:"leading-5",children:t.name})]})}),Object(h.jsx)(B,{name:"parameters.name",label:"Name",placeholder:t.name}),Object(h.jsx)(X,{label:"Contexts",titleFont:"font-medium text-sm",name:"parameters.context",values:n,expanded:!0,required:!0,listItem:Xe,addButton:!0}),Object(h.jsx)(Ke,{source:t,values:n}),(t.job instanceof f.reusable.ParameterizedJob||t.job instanceof f.orb.OrbRef)&&Object(h.jsx)(de,{parent:"parameters",values:n,matrix:!0,paramList:t.job.parameters}),Object(h.jsx)(Ue,{values:n,label:"Pre-steps",type:"pre-steps"}),Object(h.jsx)(Ue,{values:n,label:"Post-steps",type:"post-steps"})]})}),Object(h.jsx)("span",{className:"border-b border-circle-gray-300 mt-auto"}),Object(h.jsxs)(ee,{children:[Object(h.jsx)(Q,{variant:"secondary",type:"button",onClick:function(){r({distance:1})},children:"Cancel"}),Object(h.jsx)(Q,{variant:"primary",type:"submit",children:"Save"})]})]})}})]})},Label:function(e){var t;return Object(h.jsx)("p",{children:(null===(t=e.values.parameters)||void 0===t?void 0:t.name)||e.source.name})},Icon:function(e){return Object(h.jsx)(_e,{className:"w-6 h-8 py-2"})}},Qe=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 18 18",className:e.className,fill:e.color,children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M4.649 3.084A1 1 0 015.163 4.4 13.95 13.95 0 004 10c0 1.993.416 3.886 1.164 5.6a1 1 0 01-1.832.8A15.95 15.95 0 012 10c0-2.274.475-4.44 1.332-6.4a1 1 0 011.317-.516zM12.96 7a3 3 0 00-2.342 1.126l-.328.41-.111-.279A2 2 0 008.323 7H8a1 1 0 000 2h.323l.532 1.33-1.035 1.295a1 1 0 01-.781.375H7a1 1 0 100 2h.039a3 3 0 002.342-1.126l.328-.41.111.279A2 2 0 0011.677 14H12a1 1 0 100-2h-.323l-.532-1.33 1.035-1.295A1 1 0 0112.961 9H13a1 1 0 100-2h-.039zm1.874-2.6a1 1 0 011.833-.8A15.95 15.95 0 0118 10c0 2.274-.475 4.44-1.332 6.4a1 1 0 11-1.832-.8A13.949 13.949 0 0016 10c0-1.993-.416-3.886-1.165-5.6z",clipRule:"evenodd"})})},et=["name"],tt={key:"parameters",name:{singular:"Parameter",plural:"Parameters"},defaults:{integer:{name:"new_integer_parameter"},boolean:{name:"new_boolean_parameter"},string:{name:"new_string_parameter"},enum:{name:"new_enum_parameter",enum:[""]}},transform:function(e){var t=e.name,n=Object(y.a)(e,et);return f.parsers.parseParameter(n,t)},store:{add:function(e){return e.define_parameters},update:function(e){return e.update_parameters},remove:function(e){return e.delete_parameters}},subtypes:{component:{Component:function(e){var t,n=(null===(t=e.component)||void 0===t?void 0:t.parameters)||Le.pipeline;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(ne,{}),Object(h.jsxs)("div",{className:"ml-6 flex py-3",children:[Object(h.jsx)(Qe,{className:"w-8 h-8 p-1 pl-0 mr-1"}),Object(h.jsx)("h1",{className:"text-2xl font-bold",children:"New Parameter"})]}),Object(h.jsx)("div",{className:"flex border-b border-circle-gray-300 pl-6",children:Object(h.jsx)("div",{className:"text-sm tracking-wide px-3 py-3 font-bold text-center 'border-black border-b-4 border-black text-circle-black",children:"TYPE"})})]}),Object(h.jsx)("div",{className:"p-6",children:(null===n||void 0===n?void 0:n.types)&&n.types.map((function(t){return Object(h.jsx)(Me,{description:ke[t].description,title:ke[t].text,onClick:function(){e.setSubtype(t)},pinned:Object(h.jsx)("div",{children:ke[t].docsLink&&Object(h.jsx)("a",{className:"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",href:ke[t].docsLink,target:"circleci_docs",onClick:function(e){e.stopPropagation()},children:"Learn More"})})},t)}))})]})},Label:function(e){return Object(h.jsx)("p",{children:"New Parameter"})},Icon:function(e){return Object(h.jsx)(Qe,{className:"w-6 h-8 py-2"})}},getSubtype:function(e){return e.type},definitions:ke},components:{icon:Qe,summary:function(e){return Object(h.jsxs)("div",{className:"flex flex-row",children:[Object(h.jsx)(Qe,{className:"mr-4 w-6 h-6"}),Object(h.jsx)("h3",{className:"my-auto",children:e.data.name})]})},inspector:function(e){var t,n=e.subtype?null===(t=ke[e.subtype])||void 0===t?void 0:t.fields:void 0;return Object(h.jsxs)("div",{children:[Object(h.jsx)(B,{name:"type",label:"Type",hidden:!0,value:e.subtype}),Object(h.jsx)(B,{name:"name",label:"Name",required:!0}),Object(h.jsx)(B,{name:"description",label:"Description",as:"textarea"}),n&&("function"===typeof n?n(e):n)]})}},docsInfo:{description:"A %s is used by other components to expand functionality.",link:"https://circleci.com/docs/reusing-config/#using-the-parameters-declaration"}},nt=function(e){var t=Object(M.e)(e.values.parameters),n=Object(j.a)(t,1)[0],a=Jt((function(e){return e.navigateTo})),r=e.values.parameters&&Object.entries(e.values.parameters);return Object(h.jsx)(M.b,Object(d.a)(Object(d.a)({},n),{},{name:"parameters",render:function(t){return Object(h.jsxs)("div",{className:"p-6 flex flex-col",children:[(null===r||void 0===r?void 0:r.length)>0?r.map((function(t,n){var r=Object(j.a)(t,2),c=r[0],o=r[1];return Object(h.jsxs)("button",{"aria-label":"Parameter",className:"p-4 mb-4 w-full border-circle-gray-300 border hover:border-circle-black rounded text-left",onClick:function(){a({component:ot,props:{dataType:tt,passBackKey:"parameters",index:n,subtype:o.type,editing:!0,values:Object(d.a)({name:c},o),source:e.values.parameters?Object.keys(e.values.parameters):[]},values:e.values})},children:[Object(h.jsx)("div",{className:"flex",children:Object(h.jsx)("p",{className:"font-bold",children:c})}),o.description&&Object(h.jsx)("p",{className:"text-sm mt-1 leading-4 whitespace-pre-wrap text-circle-gray-500",children:o.description}),o.default?Object(h.jsx)("p",{className:"text-sm mt-1 leading-4 whitespace-pre-wrap text-circle-gray-500",children:o.default}):Object(h.jsx)("p",{className:"text-sm mt-1 leading-4 whitespace-pre-wrap text-circle-gray-500",children:"Required"})]},c)})):Object(h.jsx)(E,{label:"No Parameters Yet",Logo:Qe,description:"Add a parameter by clicking the button above  to implement dynamic functionality."}),Object(h.jsx)(Q,{"aria-label":"Add Parameter",type:"button",variant:"primary",className:"mx-auto my-4",onClick:function(){tt.subtypes&&a(Ge({typePage:tt.subtypes.component,typeProps:{component:e.dataMapping},menuPage:ct,menuProps:{dataType:tt,passBackKey:"parameters",index:-1,source:e.values.parameters?Object.keys(e.values.parameters):[]}},e.values))},children:"Add Parameter"})]})}}))},at=["name"],rt=function(e,t,n){var a=e[t.key][n];if(!a||!a.observers)return 0;var r=0;return Object.values(a.observers).forEach((function(e){r+=Object.values(e).reduce((function(e,t){return e+t}))})),r},ct=function(e){var t,n=zt((function(e){return e.definitions})),a=Jt((function(e){return e.navigateBack})),r=Jt((function(e){return e.setGuideStep})),c=zt((function(e){return e.guideStep})),o=e.dataType,i=Jt((function(t){return(e.editing?null===o||void 0===o?void 0:o.store.update(t):null===o||void 0===o?void 0:o.store.add(t))||t.error})),s=Jt((function(e){return(null===o||void 0===o?void 0:o.store.remove(e))||e.error})),l=["PROPERTIES"],u=e.values?e.values:e.subtype?null===o||void 0===o?void 0:o.defaults[e.subtype]:null===o||void 0===o?void 0:o.defaults,j=e.subtype||(null===o||void 0===o||null===(t=o.subtypes)||void 0===t?void 0:t.getSubtype(u));null!==o&&void 0!==o&&o.parameters&&l.push("PARAMETERS");var m=Jt((function(e){return e.triggerConfirmation}));return Object(h.jsxs)("div",{"aria-label":"Inspector Definition Menu",className:"h-full flex flex-col",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(ne,{}),Object(h.jsxs)("div",{className:"ml-6 py-3 flex",children:[function(t){var n=null===o||void 0===o?void 0:o.components.icon;if(n){var a=n;return Object(h.jsx)(a,{className:t,type:e.subtype})}}("w-8 h-8 p-1 pl-0 mr-1"),Object(h.jsxs)("h1",{className:"text-2xl font-bold",children:[e.editing?"Edit":"New"," ",null===o||void 0===o?void 0:o.name.singular]})]})]}),o&&Object(h.jsx)(M.d,{initialValues:Object(d.a)({},u),validateOnBlur:!0,validate:function(t){var a,r={},c=null!==(a=e.source)&&void 0!==a?a:n[o.key],i=Object.values(c).findIndex((function(e){return("string"===typeof e?e:e.value.name)===t.name.trim()}));return-1!==i&&i!==e.index&&(r.name="Name is already in use"),r},enableReinitialize:!0,onSubmit:function(t){var s;if(!e.passBackKey){var l=o.transform(t,n),j=e.editing?{old:u,new:l}:l;i(j)}!e.editing&&c&&(null===(s=o.guide)||void 0===s?void 0:s.step)===c&&r(c+1),a({toast:{label:t.name.trim(),content:"saved",status:"success"},distance:1,applyValues:function(n){if(e.passBackKey){var a,r,c=t.name,o=Object(y.a)(t,at),i=Object(d.a)(Object(d.a)({},n[e.passBackKey]),{},Object(b.a)({},c,o));return c!==(null===(a=e.values)||void 0===a?void 0:a.name)&&"string"===typeof(null===(r=e.values)||void 0===r?void 0:r.name)&&delete i[e.values.name],Object(d.a)(Object(d.a)({},n),{},Object(b.a)({},e.passBackKey,i))}}})},children:function(t){var r,c,i,u;return Object(h.jsxs)(M.c,{className:"flex flex-col flex-1",children:[Object(h.jsxs)(ue,{tabs:l,activeTab:e.activeTab||0,children:[Object(h.jsxs)("div",{className:"p-6 overflow-y-auto",style:{height:"calc(100vh - 220px)"},children:[o.subtypes&&(e.editing?Object(h.jsxs)("div",{className:"p-4 mb-4 w-full border-circle-gray-300 border hover:border-circle-black rounded text-left",children:[Object(h.jsx)("p",{className:"font-medium",children:null===(r=o.subtypes.definitions[j])||void 0===r?void 0:r.text}),Object(h.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:null===(c=o.subtypes.definitions[j])||void 0===c?void 0:c.description})]}):Object(h.jsxs)("button",{className:"p-4 mb-4 w-full border-circle-gray-300 border hover:border-circle-black rounded text-left",type:"button",onClick:function(){e.selectSubtype()},children:[Object(h.jsxs)("div",{className:"w-full flex flex-row",children:[Object(h.jsx)("p",{className:"font-medium",children:null===(i=o.subtypes.definitions[j])||void 0===i?void 0:i.text}),Object(h.jsx)(Te,{className:"ml-auto flex w-4"})]}),Object(h.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:null===(u=o.subtypes.definitions[j])||void 0===u?void 0:u.description})]})),o.components.inspector(Object(d.a)(Object(d.a)({},t),{},{definitions:n,subtype:j,data:e.data}))]}),o.parameters&&Object(h.jsx)("div",{style:{height:"calc(100vh - 220px)"},className:"overflow-y-auto",children:Object(h.jsx)(nt,{dataMapping:o,values:t.values})})]}),Object(h.jsxs)(ee,{children:[e.editing&&Object(h.jsx)(Q,{variant:"dangerous",type:"button",onClick:function(){m({modalDialogue:"delete",labels:[o.name.singular,e.data.name,rt(n,o,e.data.name)],onConfirm:function(){s(e.data),a({distance:1})}})},children:"Delete"}),Object(h.jsx)(Q,{variant:"secondary",type:"button",onClick:function(){a({distance:1})},children:"Cancel"}),Object(h.jsx)(Q,{variant:"primary",type:"submit",children:e.editing?"Save":"Create"})]})]})}})]})},ot={Component:ct,Label:function(e){var t;return Object(h.jsxs)("p",{children:[e.editing?"Edit":"New"," ",null===(t=e.dataType)||void 0===t?void 0:t.name.singular]})},Icon:function(e){var t,n=null===(t=e.dataType)||void 0===t?void 0:t.components.icon;if(!n)return null;var a=n;return Object(h.jsx)(a,{className:"w-6 h-8 py-2"})}},it=function(e,t){var n=e.generate();return"string"===typeof n?{name:n}:Object.entries(n).map((function(e){var n=Object(j.a)(e,2),a=n[0],r=n[1];return t?{name:a,parameters:r}:Object(d.a)({name:a},r)}))[0]},st=function(e){var t=e.type.components.summary,n=Jt((function(e){return e.navigateTo})),a=Jt((function(e){return e.setDragging}));return Object(h.jsx)("button",{className:"w-full mb-2 p-4 py-2 cursor-pointer text-left text-circle-black  bg-white border border-circle-gray-300 rounded-md2 hover:border-gray-700 text-base",draggable:"true",onDragStart:function(t){var n=e.type;null!==n&&void 0!==n&&n.dragTarget&&a({dataType:n,data:e.data})},onClick:function(t){if(!(e.data instanceof f.orb.OrbRef)){var a=it(e.data);n({component:ot,props:{data:e.data,editing:!0,values:a,dataType:e.type,index:e.index}})}},children:Object(h.jsx)(t,{data:e.data})})},lt=function(e){return e.startsWith("^")||(e="^".concat(e)),e.endsWith("$")||(e="".concat(e,"$")),e},dt=function(e){return Object(h.jsx)(h.Fragment,{children:e.subtraction?Object(h.jsx)(He,{filled:e.filled,color:"rgb(150, 0, 8)",className:"bg-white rounded-full w-full border border-white"}):Object(h.jsx)(Ie,{filled:e.filled,color:"rgb(0, 120, 202)",className:"bg-white rounded-full w-full border border-white"})})},ut=function(e){var t,n,c,o=zt((function(e){return e.definitions.workflows[e.selectedWorkflowId].value.elements})),i=zt((function(e){return e.dragging})),s=Jt((function(e){return e.update_jobs})),l=Jt((function(e){return e.navigateTo})),u=Jt((function(e){return e.setConnecting})),m=zt((function(e){return e.previewToolbox})),f=zt((function(e){return e.selectedWorkflowId})),p=zt((function(e){return e.altAction})),x=Jt((function(e){return e.removeWorkflowElement})),v=zt((function(e){return e.connecting})),O=Jt((function(e){return e.updateConnecting})),g=r.a.useState({handles:!1,node:!1,requiredBy:!1,remove:!1,requires:!1}),w=Object(j.a)(g,2),y=w[0],C=w[1],N=!1,k=e.data,L=null===(t=k.parameters)||void 0===t?void 0:t.filters;if(L&&m.filter.preview&&L[m.filter.type]){var E=L[m.filter.type],M=m.filter.pattern;try{var S,V,_=null===E||void 0===E||null===(S=E.ignore)||void 0===S?void 0:S.some((function(e){return M.match(lt(e))})),R=null===E||void 0===E||!E.only||(null===E||void 0===E||null===(V=E.only)||void 0===V?void 0:V.some((function(e){return M.match(lt(e))})));N=_||!R}catch(A){console.warn("Invalid regex pattern")}}else"tags"===m.filter.type&&(N=!0);var H=function(e,t,n,a){return{onMouseEnter:function(){C(e.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(b.a)({},t,!0))}),y)),n&&n()},onMouseLeave:function(){C(t.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(b.a)({},t,!1))}),y)),a&&a()}}},I=Object(a.useRef)(null),P=function(t){return function(n){var a;u({ref:I,id:{connectionNodeId:e.id,connectionHandleType:t,connectionHandleId:"".concat(e.id,"_").concat(t)},name:(null===(a=e.data.parameters)||void 0===a?void 0:a.name)||e.data.name}),n.preventDefault()}};return Object(h.jsxs)("div",Object(d.a)(Object(d.a)({className:"p-8 flex flex-row cursor-default"},H(["handles"],["handles","node","requires","requiredBy"],(function(){var t,n,a="source"===(null===v||void 0===v||null===(t=v.start)||void 0===t?void 0:t.id.connectionHandleType)?"target":"source";O({ref:I,id:{connectionNodeId:e.id,connectionHandleType:a,connectionHandleId:"".concat(e.id,"_").concat(a)},name:(null===(n=e.data.parameters)||void 0===n?void 0:n.name)||e.data.name})}),(function(){O(void 0)}))),{},{onDragOver:function(e){var t;i&&(null===(t=i.dataType)||void 0===t?void 0:t.dragTarget)===xt.key&&e.preventDefault()},onDrop:function(t){var n;if(i&&(null===(n=i.dataType)||void 0===n?void 0:n.dragTarget)===xt.key&&i.dataType.applyToNode){var a=i.dataType.applyToNode(i.data,e.data);xt.key in a&&s({old:e.data.job,new:a.job}),"parameters"in a&&function(e,t){o.map((function(n){return Object(Ve.h)(n)&&n.data.job.name===e.job.name?Object(d.a)(Object(d.a)({},n),{},{data:Object(d.a)(Object(d.a)({},e),t)}):n}))}(e.data,a)}},children:[Object(h.jsx)("button",Object(d.a)(Object(d.a)({className:"opacity-".concat(!y.handles||y.node||null!==v&&void 0!==v&&v.start?0:100," transition-opacity duration-300 w-4 h-4 my-auto mr-5"),id:"".concat(e.id,"_source")},H(["requires","handles"],["requires"])),{},{draggable:!0,onDragStart:P("target"),children:Object(h.jsx)(dt,{filled:y.requires,subtraction:p})})),Object(h.jsxs)("div",Object(d.a)(Object(d.a)({className:"p-2 bg-white node flex flex-row text-black rounded-md border cursor-pointer ".concat(N?"bg-gray-200 opacity-60":"opacity-100","\n        ").concat(y.node&&!y.remove||y.handles&&null!==v&&void 0!==v&&v.start?"border-circle-blue":"border-circle-gray-300"),ref:I},H(["node"],["node"])),{},{children:[Object(h.jsxs)("button",{className:"flex w-full",onClick:function(){l({component:$e,props:{source:k,values:it(k,!0),id:e.id,overrideRoot:f},origin:!0})},children:[function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="w-5 mr-2";return e?Object(h.jsx)(Re,{className:t}):Object(h.jsx)(_e,{className:t})}("approval"===(null===(n=e.data.parameters)||void 0===n?void 0:n.type)),(null===(c=e.data.parameters)||void 0===c?void 0:c.name)||e.data.name]}),Object(h.jsx)("button",Object(d.a)(Object(d.a)({className:"my-auto\n          opacity-".concat(y.node?100:0,"\n          transition-opacity duration-150 w-8 h-full flex")},H(["remove"],["remove"])),{},{onClick:function(){x(e.id)},children:Object(h.jsx)(q,{className:"w-3 cursor-pointer m-auto",color:y.remove?"#B5261F":"#AAAAAA"})}))]})),Object(h.jsx)("button",Object(d.a)(Object(d.a)({className:"opacity-".concat(!y.handles||y.node||null!==v&&void 0!==v&&v.start?0:100," source transition-opacity duration-300 w-4 h-4 my-auto ml-5")},H(["requiredBy","handles"],["requiredBy"])),{},{id:"".concat(e.id,"_target"),draggable:!0,onDragStart:P("source"),children:Object(h.jsx)(dt,{filled:y.requiredBy,subtraction:p})})),Object(h.jsx)(Ve.d,{type:"source",className:"opacity-0 cursor-default",position:Ve.e.Right,id:"".concat(e.id,"_source")}),Object(h.jsx)(Ve.d,{className:"opacity-0 cursor-default",id:"".concat(e.id,"_target"),type:"target",position:Ve.e.Left})]}))},bt=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 24 24",className:e.className,fill:e.color,children:Object(h.jsx)("path",{d:"M13,12.0005 L13,14.5005 C13,15.8812153 14.1192847,17.0005 15.5,17.0005 C16.7716732,17.0005 17.8215783,16.0510253 17.9794794,14.8223119 C16.8252603,14.4045443 16,13.2985065 16,12.0005 C16,10.3434832 17.3434471,9.0005 19,9.0005 C20.6565529,9.0005 22,10.3434832 22,12.0005 C22,13.3107265 21.1591278,14.4253528 19.9878345,14.8339277 C19.8172144,17.1635097 17.8731367,19.0005 15.5,19.0005 C13.0147153,19.0005 11,16.9857847 11,14.5005 L11,12.0005 L11,9.4995 C11,8.11906389 9.88099443,7.0005 8.5,7.0005 C7.2278041,7.0005 6.17794274,7.94975945 6.020417,9.17853139 C7.17480406,9.5960731 8,10.7018409 8,12.0005 C8,13.6567847 6.65628475,15.0005 5,15.0005 C3.34371525,15.0005 2,13.6567847 2,12.0005 C2,10.6896797 2.84072326,9.57538027 4.01209968,9.16698275 C4.18228055,6.83714058 6.12646259,5.0005 8.5,5.0005 C10.9853872,5.0005 13,7.0143176 13,9.4995 L13,12.0005 Z M6,12.0005 C6,11.4482074 5.55213797,11.0005 5,11.0005 C4.44786203,11.0005 4,11.4482074 4,12.0005 C4,12.5522153 4.44828475,13.0005 5,13.0005 C5.55171525,13.0005 6,12.5522153 6,12.0005 Z M20,12.0005 C20,11.4482074 19.552138,11.0005 19,11.0005 C18.447862,11.0005 18,11.4482074 18,12.0005 C18,12.5522153 18.4482847,13.0005 19,13.0005 C19.5517153,13.0005 20,12.5522153 20,12.0005 Z"})})},jt=["embeddedExecutor","definitions","data","values"],mt=["data","definitions","subscriptions","setSubscriptions"],ft=function(e){var t=e.embeddedExecutor,n=(e.definitions,e.data),a=(e.values,Object(y.a)(e,jt)),r=Jt((function(e){return e.define_executors})),c=Jt((function(e){return e.triggerConfirmation})),o=Jt((function(e){return e.triggerToast})),i=Object(M.e)(Object(d.a)({name:t},a))[2],s=Object(M.e)(Object(d.a)({name:"executor.name"},a))[2],l=n.executor===Ot;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"flex flex-row",children:[Object(h.jsx)("p",{className:"font-bold leading-5 tracking-wide",children:"Executor"}),!l&&Object(h.jsx)("button",{type:"button",className:"ml-auto tracking-wide my-auto text-sm text-circle-blue font-medium  ",onClick:function(){var e=n.name+"-exec-export";c({onConfirm:function(){n.executor instanceof f.executors.Executor&&(i.setValue(void 0),r(n.executor.asReusable(e)),s.setValue(e),o({label:e,content:"has been exported.",status:"success"}))},modalDialogue:{body:"Upon extracting this %s, a %s with the name %s will be created. This operation cannot be undone.",button:"Confirm",buttonVariant:"primary",header:"Confirm Executor Export"},labels:["executor","reusable executor",e]})},children:"Export as Definition"})]}),Object(h.jsxs)("div",{className:"px-3 py-2 my-2 bg-circle-gray-200 border w-full border-circle-gray-300 rounded flex flex-row",children:[l?"Deleted Executor":"Embedded ".concat(t),Object(h.jsx)("button",{onClick:function(){i.setValue(void 0),s.setValue("Select Executor")},type:"button",className:"my-auto ml-auto",children:Object(h.jsx)(q,{className:"w-3 h-3",color:"#AAAAAA"})})]})]})},pt=["name"],xt={key:"jobs",name:{singular:"Job",plural:"Jobs"},defaults:{name:"New Job",steps:[],executor:{name:"Select Executor"}},parameters:Le.job,subscriptions:{commands:function(e,t,n){var a;return a=t?n.steps.map((function(n){return n instanceof f.reusable.ReusableCommand&&n.name===e.name?new f.reusable.ReusableCommand(t,n.parameters):n})):n.steps.filter((function(t){return!(t instanceof f.reusable.ReusableCommand)||t.name!==e.name})),new f.reusable.ParameterizedJob(n.name,n.executor,n instanceof f.reusable.ParameterizedJob?n.parameters:void 0,a)},executors:function(e,t,n){return new f.reusable.ParameterizedJob(n.name,(null===t||void 0===t?void 0:t.reuse())||Ot,n instanceof f.reusable.ParameterizedJob?n.parameters:void 0,n.steps)}},resolveObservables:function(e){var t=e.executor instanceof f.reusable.ReusedExecutor?e.executor.executor:void 0,n=t instanceof f.orb.OrbRef?t:void 0,a=e.steps.filter((function(e){return e instanceof f.reusable.ReusableCommand&&e.name.includes("/")}));return{executors:n?void 0:t,commands:e.steps.filter((function(e){return e instanceof f.reusable.ReusableCommand&&!e.name.includes("/")})),orbs:n?[n].concat(Object(u.a)(a)):a}},transform:function(e,t){var n=e.name,a=Object(y.a)(e,pt);return f.parsers.parseJob(n,a,Nt(t.commands),Nt(t.executors),Nt(t.orbs))},store:{add:function(e){return e.define_jobs},update:function(e){return e.update_jobs},remove:function(e){return e.delete_jobs}},dragTarget:"workflow",node:{transform:function(e,t,n){var a=new Set(null===n||void 0===n?void 0:n.filter((function(e){return"jobs"===e.type})).map((function(e){var t;return(null===(t=e.data.parameters)||void 0===t?void 0:t.name)||e.data.name}))),r=e.name;if(a&&a.has(r))for(var c=2;;c++){var o="".concat(r," (").concat(c,")");if(!a.has(o)){r=o;break}}var i=t||{};return r!==e.name&&(i.name=r),new f.workflow.WorkflowJob(e,i)},component:ut},components:{icon:_e,summary:function(e){var t=zt((function(e){return e.stagedJobs})),n=zt((function(e){return e.selectedWorkflowId})),a=t.workflows[n];return Object(h.jsxs)("div",{className:"flex flex-row",children:[Object(h.jsx)(_e,{className:"mr-4 w-6 h-6"}),Object(h.jsx)("h3",{className:"my-auto",children:e.data.name}),a&&Object(h.jsx)(bt,{className:"w-5 h-5 ml-auto",color:e.data.name in a?"#048C43":"#E3E3E3"})]})},inspector:function(e){var t=e.data,n=e.definitions,a=e.subscriptions,r=e.setSubscriptions,c=Object(y.a)(e,mt),o=Jt((function(e){return e.navigateTo})),i=function(e){var t=["machine","macos","docker"];return Object.keys(e).find((function(e){return t.includes(e)}))}(c.values);return Object(h.jsxs)("div",{children:[Object(h.jsx)(B,{label:"Name",name:"name",required:!0}),i?Object(h.jsx)(ft,Object(d.a)({embeddedExecutor:i,definitions:n,data:t},c)):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(B,{label:"Executor",as:"select",name:"executor.name",placeholder:"Select Executor",className:"w-full",required:!0,onChange:function(e){var t={name:e,type:"executors"},n=a?[].concat(Object(u.a)(a),[t]):[t];r&&r(n)},dependent:function(e){var t,a=null===e||void 0===e?void 0:e.split("/");if(!a)return Object(h.jsx)(h.Fragment,{});var r=1===a.length?null===(t=n.executors[e])||void 0===t?void 0:t.value:n.orbs[a[0]].value.executors[a[1]];return Object(h.jsx)(h.Fragment,{children:(null===r||void 0===r?void 0:r.parameters)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(z,{title:"Properties",expanded:!0,children:Object(h.jsx)("div",{className:"pt-2",children:Object(h.jsx)(de,{paramList:r.parameters,parent:"executor"})})}),Object(h.jsx)("div",{className:"w-full border-b border-circle-gray-300 my-2"})]})})},children:[].concat(Object(u.a)(Ct(n.executors,(function(e){return Object(h.jsx)("option",{value:e.name,children:e.name},e.name)}))),Object(u.a)(Ct(n.orbs,(function(e){return e.executors&&Object.values(e.executors).map((function(e){return Object(h.jsx)("option",{value:e.name,children:e.name},e.name)}))}))))})}),Object(h.jsx)(X,{label:"Steps",name:"steps",values:c.values,expanded:!0,required:!0,listItem:pe,labels:function(e){return["Step","".concat((null===e||void 0===e?void 0:e.name)||Object.keys(e)[0])]},empty:Object(h.jsx)(E,{label:"No Steps Yet",Logo:C,description:Object(h.jsxs)(h.Fragment,{children:["Add a step by clicking the button above.",Object(h.jsx)("br",{}),"At least one step is required."]})}),pinned:Object(h.jsx)(L,{className:"ml-auto flex",onClick:function(){o(Ge({typePage:Rt,menuPage:me,passThrough:{dataType:xt}},c.values,a))}})})]})}},docsInfo:{description:"A %s is a configured collection of steps to be executed within the Executor environment.",link:"https://circleci.com/docs/concepts/#jobs"},requirements:[{message:"You must define or import at least one executor before creating a job.",test:function(e){var t=Object.values(e.executors).length>0,n=Object.values(e.orbs).some((function(e){return Object.values(e.value.executors).length>0}));return t||n}}]},vt=["name"],Ot=new f.executors.DockerExecutor(""),ht={key:"executors",name:{singular:"Executor",plural:"Executors"},defaults:{docker:{name:"new-docker-executor",docker:[{image:"cimg/base:stable"}],resource_class:"medium"},machine:{name:"new-machine-executor",machine:{image:"ubuntu-2204:2022.07.1"},resource_class:"medium"},macos:{name:"new-macos-executor",macos:{xcode:"14.0.0"},resource_class:"medium"},windows:{name:"new-windows-executor",machine:{image:"windows-server-2019-vs2019:stable"},resource_class:"windows.medium"}},parameters:Le.executor,transform:function(e){var t=e.name,n=Object(y.a)(e,vt);return f.parsers.parseReusableExecutor(t,n)},store:{add:function(e){return e.define_executors},update:function(e){return e.update_executors},remove:function(e){return e.delete_executors}},dragTarget:xt.key,applyToNode:function(e,t){var n=t.job,a=t.parameters,r=Object(d.a)({},a);if(!(n instanceof f.Job)){var c=n.parameters.parameters.filter((function(e){return"executor"===e.type}));0===c.length||1===c.length&&(r[c[0].name]=e.name)}return new f.workflow.WorkflowJob(n,r)},subtypes:{component:Se,getSubtype:function(e){var t=Object.keys(e);return Object.keys(Ce).find((function(e){return t.includes(e)}))},definitions:Ce},components:{icon:we,summary:ye,inspector:Ne},docsInfo:{description:"An %s is a technology or environment in which Jobs execute their steps inside of.",link:"https://circleci.com/docs/executor-types/"}},gt=function(e){Object(v.a)(n,e);var t=Object(O.a)(n);function n(e,a,r,c){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(x.a)(this,n),(o=t.call(this,e,r,c)).elements=void 0,o.id=void 0,o.elements=i,o.id=a,o}return Object(p.a)(n)}(f.Workflow),wt=function(e,t,n){e.definitions=Object(d.a)(Object(d.a)({},e.definitions),{},{workflows:Object(d.a)(Object(d.a)({},e.definitions.workflows),{},Object(b.a)({},t,n))})},yt={key:"workflows",store:{add:function(e){return e.define_workflows},update:function(e){return e.update_workflows},remove:function(e){return e.delete_workflows}},storeHooks:{update:function(e,t){return t.old.name!==t.new.name&&(e.selectedWorkflowId===t.old.name&&(e.selectedWorkflowId=t.new.name),e.stagedJobs.workflows[t.new.name]=e.stagedJobs.workflows[t.old.name]),t.new}},subscriptions:{jobs:function(e,t,n){var a={},r=n.jobs.map((function(n){if(n instanceof f.workflow.WorkflowJob&&n.name===e.name){var r,c=new f.workflow.WorkflowJob(t,n.parameters);return a[(null===(r=n.parameters)||void 0===r?void 0:r.name)||n.name]=c,c}return n})),c=n.elements.map((function(t){return"jobs"===t.type&&t.data.job.name===e.name?Object(d.a)(Object(d.a)({},t),{},{data:a[t.data.parameters.name||t.data.job.name]}):t}));return new gt(n.name,n.id,r,n.when,c)}},resolveObservables:function(e){return{jobs:e.jobs.filter((function(e){return e instanceof f.workflow.WorkflowJob}))}}},Ct=function(e,t){return Object.values(e).map((function(e,n){return t(e.value,n)}))},Nt=function(e){return Object.values(e).map((function(e){return e.value}))},kt=function(e,t,n,a,r,c){var o=e.definitions[r][a.name],i=Object(b.a)({},t.name,1);if(null!==o&&void 0!==o&&o.observers){var s=o.observers;c[r][a.name]=Object(d.a)(Object(d.a)({},o),{},{observers:s[n]?Object(d.a)(Object(d.a)({},s),{},Object(b.a)({},n,Object(d.a)(Object(d.a)({},s[n]),i))):Object(d.a)(Object(d.a)({},s),{},Object(b.a)({},n,i))})}else o&&(c[r][a.name]=Object(d.a)(Object(d.a)({},o),{},{observers:Object(b.a)({},n,i)}));return{name:a.name}},Lt=function(e,t,n,a,r){var c=t.key,o=e.definitions[t.key],i=function(e,t,n){var a=t.key,r=[],c=t.subscriptions?Object.assign.apply(Object,[{}].concat(Object(u.a)(Object.keys(t.subscriptions).map((function(e){return Object(b.a)({},e,{})}))))):{};if(t.resolveObservables&&c){var o=t.resolveObservables(n);Object.entries(o).forEach((function(t){var o=Object(j.a)(t,2),i=o[0],s=o[1];Array.isArray(s)?r.push.apply(r,Object(u.a)(s.filter((function(e){return void 0!==e})).map((function(t){return kt(e,n,a,t,i,c)})))):void 0!==s&&r.push(kt(e,n,a,s,i,c))}))}return[c,r]}(e,t,n),s=Object(j.a)(i,2),l=s[0],m=s[1];e.definitions=Object.assign.apply(Object,[{}].concat(Object(u.a)(Object.entries(e.definitions).map((function(t){var i=Object(j.a)(t,2),s=i[0],u=i[1];return s===c?(u=Object(d.a)(Object(d.a)(Object(d.a)({},o),l[c]||{}),{},Object(b.a)({},n.name,{observables:m||[],observers:a||{},value:n})),r&&r(u)):s in l&&(u=Object(d.a)(Object(d.a)({},e.definitions[s]),l[s])),Object(b.a)({},s,u)})))))},Et=function(e){var t,n=e.key,a=e.storeHooks;return t={},Object(b.a)(t,"define_".concat(n),Object(l.b)((function(t,n){Lt(t,e,n),(null===a||void 0===a?void 0:a.add)&&(null===a||void 0===a||a.add(t,n))}))),Object(b.a)(t,"update_".concat(n),Object(l.b)((function(t,r){var c=null!==a&&void 0!==a&&a.update?a.update(t,r):r.new,o=t.definitions[n][r.old.name];Lt(t,e,c,o.observers,(function(e){r.new.name!==r.old.name&&delete e[r.old.name]})),r.res&&r.res(void 0)}))),Object(b.a)(t,"delete_".concat(n),Object(l.b)((function(){(null===a||void 0===a?void 0:a.remove)&&(null===a||void 0===a||a.remove())}))),Object(b.a)(t,"cleanup_".concat(n),Object(l.b)((function(e,t){delete Object(d.a)({},e.definitions)[n][t.name],(null===a||void 0===a?void 0:a.cleanup)&&(null===a||void 0===a||a.cleanup())}))),t},Mt=function(e,t,n){return Object(l.e)((function(a,r){var c=a["".concat(t,"_").concat(e)];if(!n)return c;var o=n(a,r);return Array.isArray(o)?[].concat(Object(u.a)(o),[c]):[o,c]}),function(){var n=Object(xe.a)(Oe.a.mark((function n(a,r){var c,o,i,s,l,d,u;return Oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c="delete"===t?{old:r.payload,new:void 0}:r.payload,o=c,i="update"===t?o.new.name:o.old.name,s=Dn.getState(),l=s.definitions,d=l[e][i].observers){n.next=8;break}return n.abrupt("return");case 8:u=[],Object.entries(d).forEach((function(t){var n=Object(j.a)(t,2),r=n[0],c=n[1],i=r;c&&Object.entries(c).forEach((function(t){var n,r=Object(j.a)(t,2),c=r[0],s=(r[1],l[i][c]),d=null===s||void 0===s?void 0:s.value;if(d){var b=a["update_".concat(i)],m=null===(n=At(i))||void 0===n?void 0:n.mapping.subscriptions;if(m&&m[e]){var f=m[e];f&&u.push(new Promise((function(e){b({old:d,new:f(o.old,o.new,d),res:e})})))}}}))})),"delete"===t&&Promise.all(u).then((function(){(0,a["cleanup_".concat(e)])(o.old)}));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())},St=function(e,t){var n,a=e.key;return n={},Object(b.a)(n,"trigger_".concat(a,"_subscribers"),Mt(a,"update")),Object(b.a)(n,"trigger_".concat(a,"_unsubscriptions"),Mt(a,"delete")),n},Vt={definitions:{commands:{},executors:{},jobs:{},workflows:{"build-and-deploy":{value:new gt("build-and-deploy",Object(he.a)(),[],void 0,[])}},parameters:{},orbs:{}}},_t=function(e){return Object(h.jsx)("svg",{viewBox:"0 0 20 20",className:e.className,fill:e.color,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.66669 5.33333C8.95535 5.33333 10 4.28866 10 3C10 1.71133 8.95535 0.666664 7.66669 0.666664C6.37802 0.666664 5.33335 1.71133 5.33335 3C5.33335 4.28866 6.37802 5.33333 7.66669 5.33333ZM10 13.5C11.933 13.5 13.5 11.933 13.5 10C13.5 8.067 11.933 6.5 10 6.5C8.06702 6.5 6.50002 8.067 6.50002 10C6.50002 11.933 8.06702 13.5 10 13.5ZM15.8334 3C15.8334 4.28866 14.7887 5.33333 13.5 5.33333C12.2114 5.33333 11.1667 4.28866 11.1667 3C11.1667 1.71133 12.2114 0.666664 13.5 0.666664C14.7887 0.666664 15.8334 1.71133 15.8334 3ZM12.3334 19.3333C13.622 19.3333 14.6667 18.2887 14.6667 17C14.6667 15.7113 13.622 14.6667 12.3334 14.6667C11.0447 14.6667 10 15.7113 10 17C10 18.2887 11.0447 19.3333 12.3334 19.3333ZM8.83335 17C8.83335 18.2887 7.78868 19.3333 6.50002 19.3333C5.21136 19.3333 4.16669 18.2887 4.16669 17C4.16669 15.7113 5.21136 14.6667 6.50002 14.6667C7.78868 14.6667 8.83335 15.7113 8.83335 17ZM3.00002 8.83333C4.28869 8.83333 5.33335 7.78866 5.33335 6.5C5.33335 5.21133 4.28869 4.16666 3.00002 4.16666C1.71136 4.16666 0.666687 5.21133 0.666687 6.5C0.666687 7.78866 1.71136 8.83333 3.00002 8.83333ZM5.33335 12.3333C5.33335 13.622 4.28869 14.6667 3.00002 14.6667C1.71136 14.6667 0.666687 13.622 0.666687 12.3333C0.666687 11.0447 1.71136 10 3.00002 10C4.28869 10 5.33335 11.0447 5.33335 12.3333ZM17 10C18.2887 10 19.3334 8.95533 19.3334 7.66666C19.3334 6.378 18.2887 5.33333 17 5.33333C15.7114 5.33333 14.6667 6.378 14.6667 7.66666C14.6667 8.95533 15.7114 10 17 10ZM19.3334 13.5C19.3334 14.7887 18.2887 15.8333 17 15.8333C15.7114 15.8333 14.6667 14.7887 14.6667 13.5C14.6667 12.2113 15.7114 11.1667 17 11.1667C18.2887 11.1667 19.3334 12.2113 19.3334 13.5Z"})})},Rt={Component:function(e){var t=zt((function(e){return e.definitions}));return Object(h.jsxs)("div",{children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(ne,{}),Object(h.jsx)("h1",{className:"ml-6 text-2xl py-3 font-bold",children:"Step Type"})]}),Object(h.jsxs)(ue,{tabs:["BUILT-IN","COMMANDS","ORBS"],children:[Object(h.jsx)("div",{className:"p-6 flex-col overflow-y-scroll",children:Object.entries(re).map((function(t){var n=Object(j.a)(t,2),a=n[0],r=n[1];return Object(h.jsx)(Me,{description:r.description,title:r.name,onClick:function(){e.setSubtype(a)},pinned:Object(h.jsx)(h.Fragment,{children:r.docsLink&&Object(h.jsx)("a",{className:"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",href:r.docsLink,target:"circleci_docs",onClick:function(e){e.stopPropagation()},children:"Learn More"})})},a)}))}),Object(h.jsx)("div",{className:"p-6 flex-col overflow-y-scroll",children:Object.values(t.commands).length>0?Ct(t.commands,(function(t){return Object(h.jsxs)("button",{type:"button",className:"p-4 mb-4 w-full border-circle-gray-300 border hover:border-circle-black rounded text-left",onClick:function(){e.setSubtype(t)},children:[Object(h.jsx)("p",{className:"font-bold",children:t.name}),Object(h.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:"Command description will show here"})]},t.name)})):Object(h.jsx)(E,{label:"No Custom Commands",Logo:C,description:"Create a custom command to use it here"})}),Object(h.jsx)("div",{className:"p-6 overflow-y-scroll",children:Object.values(t.orbs).length>0?Ct(t.orbs,(function(t){var n;return Object(h.jsx)(z,{pinned:Object(h.jsx)("p",{className:"font-normal flex ml-auto text-gray-400",children:t.version}),alwaysShowPinned:!0,title:Object(h.jsxs)("div",{className:"flex flex-row w-full",children:[Object(h.jsx)("img",{className:"w-6 p-1 mr-2",src:t.logo_url,alt:"".concat(t.name," logo")}),Object(h.jsxs)("p",{className:"font-normal text-gray-500",children:[t.namespace,"/"]}),t.name]}),children:Object(h.jsx)("div",{className:"pt-2",children:t.commands&&(null===(n=Object.values(t.commands))||void 0===n?void 0:n.map((function(t){return Object(h.jsx)(Me,{title:t.name,onClick:function(){e.setSubtype(t)}},t.name)})))})})})):Object(h.jsx)(E,{label:"No Imported Orbs",Logo:_t,description:"Import an orb with commands, and they will be accessible here"})})]})]})},Label:function(){return Object(h.jsx)("p",{children:"New Step"})}},Ht=["name"],It={key:"commands",name:{singular:"Command",plural:"Commands"},defaults:{name:"new-command",steps:[]},parameters:Le.command,subscriptions:{commands:function(e,t,n){var a;return a=t?n.steps.map((function(n){return n instanceof f.reusable.ReusableCommand&&n.name===e.name?new f.reusable.ReusableCommand(t,n.parameters):n})):n.steps.filter((function(t){return!(t instanceof f.reusable.ReusableCommand)||t.name!==e.name})),new f.reusable.CustomCommand(n.name,a,n.parameters,n.description)}},resolveObservables:function(e){return{commands:e.steps.filter((function(e){return e instanceof f.reusable.ReusableCommand}))}},transform:function(e,t){var n=e.name,a=Object(y.a)(e,Ht);return f.parsers.parseCustomCommand(n,a,Nt(t.commands))},store:{add:function(e){return e.define_commands},update:function(e){return e.update_commands},remove:function(e){return e.delete_commands}},components:{icon:C,summary:N,inspector:function(e){var t=Jt((function(e){return e.navigateTo}));return Object(h.jsxs)("div",{children:[Object(h.jsx)(B,{name:"name",label:"Name",required:!0,value:e.values.name}),Object(h.jsx)(B,{name:"description",label:"Description",as:"textarea"}),Object(h.jsx)(X,{label:"Steps",name:"steps",values:e.values,expanded:!0,required:!0,empty:Object(h.jsx)(E,{label:"No Steps Yet",Logo:C,description:Object(h.jsxs)(h.Fragment,{children:["Add a step by clicking the button above.",Object(h.jsx)("br",{}),"At least one step is required."]})}),listItem:pe,pinned:Object(h.jsx)(L,{className:"ml-auto flex",onClick:function(){t(Ge({typePage:Rt,menuPage:me,passThrough:{dataType:It}},e.values))}})})]})}},docsInfo:{description:"A %s defines a sequence of steps to be executed in a job.",link:"https://circleci.com/docs/reusing-config/#the-commands-key"}},Pt=[{key:"executors",component:[f.executors.DockerExecutor,f.executors.MacOSExecutor,f.executors.MachineExecutor,f.executors.WindowsExecutor],mapping:ht},{key:"jobs",component:[f.Job],mapping:xt},{key:"commands",component:[f.reusable.CustomCommand],mapping:It},{key:"parameters",component:[f.parameters.CustomParameter],mapping:tt}],At=function(e){return Pt.find((function(t){return t.key===e}))},Tt=function(e){var t=e.type,n=e.docsInfo,a=(null===t||void 0===t?void 0:t.docsInfo)||n,r=null===a||void 0===a?void 0:a.description.split("%s");return Object(h.jsx)(h.Fragment,{children:r&&Object(h.jsxs)("p",{className:"font-normal text-sm text-circle-black",children:[r[0],Object(h.jsx)("a",{className:"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",href:null===a||void 0===a?void 0:a.link,target:"circleci_docs",children:null===t||void 0===t?void 0:t.name.singular}),r[1]]})})},Zt=function(e){Object(v.a)(n,e);var t=Object(O.a)(n);function n(e,a,r,c,o,i,s,l,d){var u;return Object(x.a)(this,n),(u=t.call(this,e,a,r,o,c,l,d)).logo_url=void 0,u.url=void 0,u.logo_url=i,u.url=s,u}return Object(p.a)(n)}(f.orb.OrbImport),Ft=function(e,t,n){return fetch("".concat("https://orb-indexer-proxy.herokuapp.com","/orbs?orb=").concat(e)).then((function(a){return new Promise((function(r,c){a.json().then((function(a){r({orb:null!==t&&void 0!==t?t:e,manifest:a,alias:n})})).catch((function(e){c(e)}))}))}))},Bt=["jobs","commands","executors"],Wt=function(e){return Object.values(e.data).length>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(z,{expanded:!0,className:"py-4",classNameExpanded:"py-4",title:e.dataMapping.name.plural||"",children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"p-2 mb-2",children:Object(h.jsx)(Tt,{type:e.dataMapping})}),Object.entries(e.data).map((function(t){var n=Object(j.a)(t,2),a=n[0],r=n[1];return Object(h.jsx)(st,{type:e.dataMapping,data:r,index:-1},a)}))]})}),Object(h.jsx)("span",{className:"flex w-full border-b border-circle-gray-300"})]}):Object(h.jsx)(h.Fragment,{})},qt={Component:function(e){var t=zt((function(e){return e.definitions.orbs})),n=Jt((function(e){return e.importOrb})),r=Jt((function(e){return e.unimportOrb})),c=Object(a.useState)(),o=Object(j.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),u=d[0],b=d[1];Object(a.useEffect)((function(){Ft("".concat(e.namespace,"/").concat(e.name,"@").concat(e.version)).then((function(t){var n=t.manifest;s(new Zt(e.name,e.namespace,e.name,n,e.version,e.logo_url,e.url,e.description))})).catch((function(){b(!0)}))}),[s,e]);var m=Object.values(t).find((function(e){return e.value.namespace===(null===i||void 0===i?void 0:i.namespace)&&e.value.name===i.name}));return Object(h.jsxs)("div",{"aria-label":"Orbs Defintion Menu",className:"h-full flex flex-col",children:[Object(h.jsxs)("header",{className:"border-b border-circle-gray-300",children:[Object(h.jsx)(ne,{}),Object(h.jsxs)("div",{className:"px-6 p-3",children:[Object(h.jsxs)("div",{className:"flex flex-row",children:[Object(h.jsx)("h2",{className:"text-circle-gray-400",children:e.version}),Object(h.jsx)("a",{className:"flex ml-auto cursor-pointer tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",href:null===i||void 0===i?void 0:i.url,target:"circleci_devhub",onClick:function(e){e.stopPropagation()},children:"View on Dev Hub"})]}),Object(h.jsxs)("div",{className:"flex flex-row mt-3",children:[Object(h.jsx)("div",{className:"rounded-full bg-white shadow flex w-8 h-8 p-px",children:Object(h.jsx)("img",{className:"rounded-full my-auto",src:e.logo_url,alt:""})}),Object(h.jsxs)("h1",{className:"ml-2 text-xl font-thin text-circle-gray-500",children:[e.namespace,"/"]}),Object(h.jsx)("h1",{className:"text-xl",children:e.name})]}),Object(h.jsx)("p",{className:"mr-5 py-3 flex text-sm text-circle-gray-400",children:e.description})]})]}),i?Object(h.jsxs)("div",{className:"px-2 h-full flex flex-col",children:[Object(h.jsx)("div",{className:"flex flex-col overflow-y-scroll h-auto px-4",style:{height:"calc(100vh - 321px)"},children:Bt.map((function(e){var t=At(e);return t?Object(h.jsx)(Wt,{dataMapping:t.mapping,data:i[e]},e):Object(h.jsx)("p",{children:"Error"})}))}),Object(h.jsx)(ee,{children:m?Object(h.jsx)(Q,{onClick:function(){i&&r(i)},variant:"dangerous",children:"Remove Orb from Config"}):Object(h.jsx)(Q,{onClick:function(){i&&n(i)},variant:"primary",children:"Import Orb"})})]}):u?Object(h.jsx)("p",{className:"font-medium pl-3 py-4 text-circle-red-dangerous",children:"Error loading orb. It likely uses an advanced feature not yet supported. Sorry for the inconvenience!"}):Object(h.jsx)("div",{className:"flex m-auto",children:Object(h.jsx)(w,{})})]})},Label:function(e){return Object(h.jsx)("p",{children:e.name})},Icon:function(e){return Object(h.jsx)("div",{className:"w-4 h-4 rounded-full flex shadow",children:Object(h.jsx)("img",{className:"my-auto",src:e.logo_url,alt:""})})}},Dt=Object(l.d)(),Jt=Dt.useStoreActions,zt=(Dt.useStoreDispatch,Dt.useStoreState);function Kt(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Yt=function(e,t){var n=function(e,n){var a;try{a={config:f.parsers.parseConfig(e,n),manifests:n}}catch(r){a=r}t(a)},a=Object(m.parse)(e);if("orbs"in a){if(!a.orbs)return void n(e);var r=Object.entries(a.orbs).map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1],r=f.parsers.parseOrbImport(Object(b.a)({},n,a));if(!r)throw new Error("Could not parse orb ".concat(n));return Ft(a,r,n)}));Promise.all(r).then((function(t){var a=Object.assign.apply(Object,[{}].concat(Object(u.a)(t.map((function(e){var t=e.orb,n=e.manifest,a=e.alias;if(!a)throw new Error("Could not load orb ".concat(t));return Object(b.a)({},a,n)})))));n(e,a)}))}else n(e)},Gt=function(){return Yt},Xt=function(e){var t=zt((function(e){return e.toast}));return Object(h.jsx)(h.Fragment,{children:t&&Object(h.jsx)("div",Object(d.a)(Object(d.a)({},e),{},{children:Object(h.jsxs)("div",{className:"flex flex-row z-1 text-white bg-circle-gray-700 p-3 w-full rounded transition-opacity","aria-label":null===t||void 0===t?void 0:t.label,children:[Object(h.jsx)("p",{className:"font-bold mx-2 overflow-ellipsis overflow-x-hidden whitespace-nowrap my-auto",children:null===t||void 0===t?void 0:t.label}),Object(h.jsx)("p",{className:"my-auto",children:null===t||void 0===t?void 0:t.content}),t.link&&Object(h.jsx)("a",{className:"text-circle-blue-light ml-auto font-medium",href:t.link.url,target:"circleci_issue",children:t.link.label})]})}))})},Ut=function(e){var t=e.size||8,n={right:"M 0 0 L ".concat(t/2," ").concat(t/2," L 0 ").concat(t),left:"M 0 ".concat(t," L ").concat(t/2," ").concat(t/2," L 0 0"),top:"M 0 ".concat(t/2," L ").concat(t/2," 0 L ").concat(t," ").concat(t/2),bottom:"M 0 0 L ".concat(t/2," ").concat(t/2," L ").concat(t," 0")},a="top"===e.direction||"bottom"===e.direction;return Object(h.jsx)("svg",{viewBox:"0 0 ".concat(a?t:t/2," ").concat(a?t:t/2),className:e.className,fill:e.color||"#000000",children:Object(h.jsx)("path",{d:n[e.direction]})})},$t=function(e,t,n){var a=null===e||void 0===e?void 0:e.getBoundingClientRect(),r=null===t||void 0===t?void 0:t.getBoundingClientRect(),c={};return a&&r&&"bottom"===n&&(c={top:r.y-(null===a||void 0===a?void 0:a.height)+4,left:r.x-120+r.width/2}),Object(d.a)(Object(d.a)({},c),{},{width:240})},Qt=function(e){var t=e.target,n=e.facing,r=e.children,c=Object(a.useRef)(null),o=Object(a.useState)($t(c.current,t.current,n)),i=Object(j.a)(o,2),s=i[0],l=i[1],d=c.current,u=t.current;return Object(a.useEffect)((function(){l($t(d,u,n))}),[u,d,n]),Object(h.jsx)("div",{style:s,ref:c,className:"fixed flex z-30 flex-col",children:c.current&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"text-white bg-circle-gray-750 text-sm rounded p-2",children:r}),Object(h.jsx)(Ut,{color:"#343434",className:"h-3",direction:n||"right"})]})})},en=n(194),tn="%s",nn={save:{header:"Do you want to save changes to ".concat(tn,"?"),body:"If you choose not to save, your changes will be lost.",button:"Save",buttonVariant:"primary"},delete:{header:"Delete ".concat(tn," ").concat(tn,"?"),body:"When you delete the ".concat(tn," named ").concat(tn,", it will be removed from each component that uses it. \n    This definition has %s dependent components."),button:"Delete",buttonVariant:"dangerous"}},an=function(){var e=zt((function(e){return e.confirm})),t=Jt((function(e){return e.triggerConfirmation})),n="string"===typeof(null===e||void 0===e?void 0:e.modalDialogue)?nn[e.modalDialogue]:null===e||void 0===e?void 0:e.modalDialogue,r=478,c=250,o=Object(a.useCallback)((function(){t(void 0)}),[t]),i=Object(a.useCallback)((function(e){"Escape"===e.key&&o()}),[o]);Object(a.useEffect)((function(){return window.addEventListener("keydown",i),function(){window.removeEventListener("keydown",i)}}),[i]);var s=function(t){var n=t.split(tn);return n.map((function(t,a){return Object(h.jsxs)(h.Fragment,{children:[t,a!==n.length-1&&Object(h.jsx)("strong",{children:null===e||void 0===e?void 0:e.labels[a]})]})}))};return Object(h.jsx)(h.Fragment,{children:e&&n&&Object(h.jsx)("div",{"aria-label":"Confirmation Modal",className:"absolute left-0 top-0 w-full h-full z-50 flex",style:{background:"rgba(20,20,20,.8)"},children:Object(h.jsx)(en.a,{contain:!0,autoFocus:!0,children:Object(h.jsxs)("div",{className:"bg-white w-min rounded absolute",style:{left:"calc(50% - ".concat(r/2,"px"),top:"calc(50% - ".concat(c/2,"px")},children:[Object(h.jsxs)("div",{className:"px-8 py-4",children:[Object(h.jsx)("h3",{className:"font-extrabold py-4 text-2xl",children:s(n.header)}),Object(h.jsx)("div",{className:"w-96 h-20 pt-2",children:s(n.body)})]}),Object(h.jsxs)("div",{className:"border-t border-circle-gray-400 p-4 py-6 flex",children:[Object(h.jsxs)("div",{className:"ml-auto",children:[Object(h.jsx)(Q,{variant:"secondary",type:"button",onClick:o,children:"Cancel"}),Object(h.jsx)(Q,{variant:n.buttonVariant,type:"button",onClick:function(){e.onConfirm(),t(void 0)},children:n.button})]}),Object(h.jsx)("button",{className:"absolute w-14 h-10 top-0 right-0 hover:bg-circle-gray-300 rounded",onClick:o,children:Object(h.jsx)(q,{className:"m-auto w-3 h-3",color:"#555555"})})]})]})})})})},rn=n(25);function cn(){var e=Object(rn.useMatches)(),t=e.results,n=e.rootActionId;return Object(h.jsx)(rn.KBarResults,{items:t,onRender:function(e){var t=e.item,a=e.active;return"string"===typeof t?Object(h.jsx)("div",{className:"px-2 py-4 uppercase text-circle-gray-500 text-xs font-semibold",children:t}):Object(h.jsx)(on,{action:t,active:a,currentRootActionId:n||""})}})}var on=a.forwardRef((function(e,t){var n,r=e.action,c=(e.active,e.currentRootActionId),o=a.useMemo((function(){if(!c)return r.ancestors;var e=r.ancestors.findIndex((function(e){return e.id===c}));return r.ancestors.slice(e+1)}),[r.ancestors,c]);return Object(h.jsxs)("div",{ref:t,className:"px-3 py-4 w-full justify-between flex items-center cursor-pointer hover:bg-circle-gray-100",children:[Object(h.jsxs)("div",{className:"flex gap-2 items-center text-sm",children:[r.icon&&r.icon,Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsxs)("div",{children:[o.length>0&&o.map((function(e){return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)("span",{style:{opacity:.5,marginRight:8},children:e.name}),Object(h.jsx)("span",{style:{marginRight:8}})]},e.id)})),Object(h.jsx)("span",{children:r.name})]}),r.subtitle&&Object(h.jsx)("span",{style:{fontSize:12},children:r.subtitle})]})]}),null!==(n=r.shortcut)&&void 0!==n&&n.length?Object(h.jsx)("div",{"aria-hidden":!0,style:{display:"grid",gridAutoFlow:"column",gap:"4px"},children:r.shortcut.map((function(e){return Object(h.jsx)("kbd",{style:{padding:"4px 6px",background:"rgba(0 0 0 / .1)",borderRadius:"4px",fontSize:14},children:e},e)}))}):null]})})),sn=function(e){var t=[{id:"Inspector",name:"Inspector Pane",shortcut:["n"],keywords:"core elements",section:"Commands",subtitle:"Create and edit config components.",perform:function(){var e=document.getElementById("Naviagtion-Pane");e&&(e.click(),e.scrollIntoView())}},{id:"Editor",name:"Editor Pane",shortcut:["e"],keywords:"yaml config",perform:function(){var e=document.getElementById("Editor-Pane");e&&e.scrollIntoView()}},{id:"Workflow",name:"Workflow Pane",subtitle:"Orchestrate your CI workflow.",shortcut:["w"],keywords:"jobs workflow",perform:function(){var e=document.getElementById("Workflows-Pane");e&&(e.click(),e.scrollIntoView())}},Object(rn.createAction)({name:"View Source",subtitle:"View the source on GitHub.",shortcut:["s"],keywords:"source code",section:"Links",perform:function(){return window.open("https://github.com/CircleCI-Public/visual-config-editor","_blank")}}),Object(rn.createAction)({name:"Documentation",shortcut:["d","h"],keywords:"documentation help",subtitle:"Open CircleCI documentation homepage.",section:"Links",perform:function(){return window.open("https://circleci.com/docs","_blank")}})];return Object(h.jsx)(rn.KBarProvider,{options:{enableHistory:!0},actions:t,children:Object(h.jsx)(rn.KBarPortal,{children:Object(h.jsx)(rn.KBarPositioner,{className:"z-50",children:Object(h.jsxs)(rn.KBarAnimator,{className:"px-3 bg-white rounded-lg py-4 w-1/2 box-border overflow-hidden",children:[Object(h.jsx)(rn.KBarSearch,{className:"px-3 py-4 w-full mb-1"}),Object(h.jsx)(cn,{})]})})})})},ln=n(77),dn=function(e){return Object(h.jsx)("svg",{className:e.className,viewBox:"0 0 16 20",fill:e.color,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 2C6.44772 2 6 2.44772 6 3V13C6 13.5523 6.44772 14 7 14H13C13.5523 14 14 13.5523 14 13V8H11C9.89543 8 9 7.10457 9 6V2H7ZM11 3.5V6H13.381L11 3.5ZM4 3C4 1.34315 5.34315 0 7 0H9.14286C9.96389 0 10.749 0.336495 11.3153 0.931035L15.1724 4.98104C15.7037 5.53886 16 6.27967 16 7.05V13C16 14.6569 14.6569 16 13 16H12V17C12 18.6569 10.6569 20 9 20H3C1.34315 20 0 18.6569 0 17V7C0 5.34315 1.34315 4 3 4H4V3ZM7 16H10V17C10 17.5523 9.55229 18 9 18H3C2.44772 18 2 17.5523 2 17V7C2 6.44772 2.44772 6 3 6H4V13C4 14.6569 5.34315 16 7 16Z",fill:"#343434"})})},un=n(105),bn=function(e){return Object(h.jsx)("svg",{className:e.className,viewBox:"0 0 21 20",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:e.color,d:"M13.2947 5.70711C13.6852 6.09763 14.3184 6.09763 14.7089 5.70711C15.0995 5.31658 15.0995 4.68342 14.7089 4.29289L10.7089 0.292893C10.5214 0.105357 10.267 0 10.0018 0C9.73661 0 9.48226 0.105357 9.29472 0.292893L5.29472 4.29289C4.9042 4.68342 4.9042 5.31658 5.29472 5.70711C5.68525 6.09763 6.31841 6.09763 6.70894 5.70711L9.00183 3.41421L9.00183 14C9.00183 14.5523 9.44954 15 10.0018 15C10.5541 15 11.0018 14.5523 11.0018 14L11.0018 3.41421L13.2947 5.70711ZM2.03125 15C2.03125 14.4477 1.58353 14 1.03125 14C0.478965 14 0.03125 14.4477 0.03125 15V17C0.03125 18.6569 1.3744 20 3.03125 20H17.0312C18.6881 20 20.0312 18.6569 20.0312 17V15C20.0312 14.4477 19.5835 14 19.0312 14C18.479 14 18.0312 14.4477 18.0312 15V17C18.0312 17.5523 17.5835 18 17.0312 18H3.03125C2.47897 18 2.03125 17.5523 2.03125 17V15Z"})})},jn=function(){var e=Object(a.useRef)(null),t=zt((function(e){return e.config})),n=Jt((function(e){return e.loadConfig})),r=Gt();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{type:"file",accept:".yml,.yaml",ref:e,className:"hidden",onChange:function(e){e.target.files?e.target.files[0].text().then((function(e){r(e,n)})):console.error("File upload failed")}}),Object(h.jsx)(Q,{variant:t?"secondary":"primary",margin:"2",className:"w-10 whitespace-nowrap flex ml-auto",onClick:function(t){var n;null===(n=e.current)||void 0===n||n.click(),t.stopPropagation()},children:Object(h.jsx)(bn,{className:"w-5",color:t?"#161616":"#FFFFFF"})})]})},mn={blogpost:n(106),readme:n(107)},fn=function(e){var t=zt((function(e){return e.config})),n=zt((function(e){return e.configError})),r=Object(a.useState)(void 0),c=Object(j.a)(r,2),o=c[0],i=c[1],s=zt((function(e){return e.editingConfig})),l=Jt((function(e){return e.loadConfig})),d=Gt();Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.search);if(e.has("example")&&!o){var t=e.get("example");if(!t)return;if(i(t),t in mn){var n=mn[t];d(JSON.stringify(n,null,2),l)}}}),[o,l,d]);var u=function(e){var t=null===e||void 0===e?void 0:e.match("# SDK Version: .*\n");if(e&&t&&t.index){var n="# VCE Version: ".concat(un.a,"\n# Modeled with the CircleCI visual config editor.\n# For more information, see https://github.com/CircleCI-Public/visual-config-editor\n"),a=t.index+t[0].length;return e.substring(0,a)+n+e.substring(a,e.length)}return e},b=n||t&&u(t);return Object(h.jsxs)("div",{id:"Editor-Pane","aria-label":"Editor Pane",className:"bg-circle-gray-900 h-2/5 w-full flex flex-col",children:[Object(h.jsxs)("div",{className:"border-b text-xl border-circle-gray-800 font-bold flex flex-row",children:[Object(h.jsx)("div",{className:"ml-4 border-b-4 px-3 py-2 pt-4 w-max text-sm tracking-wide font-bold text-white border-white",children:"CONFIG"}),Object(h.jsxs)("div",{className:"p-2 ml-auto flex flex-row",children:[Object(h.jsx)(Q,{variant:"secondary",disabled:!t,className:"whitespace-nowrap flex ml-auto w-10",onClick:function(){t&&navigator.clipboard.writeText(u(t))},children:Object(h.jsx)(dn,{className:"w-4",color:t?"#161616":"#FFFFFF"})}),Object(h.jsx)(jn,{})]})]}),Object(h.jsx)("div",{className:"flex-1 overflow-hidden",children:s?Object(h.jsx)(ln.a,{theme:"vs-dark",language:"yaml",original:t&&u(t),modified:s&&u(s)}):Object(h.jsx)(ln.b,{theme:"vs-dark",wrapperProps:{className:"flex-1 flex-grow"},language:t?"yaml":"terminal",value:b})})]})},pn=function(e,t){t.width;var n=zt((function(e){return e.navigation})),a=n.component.Component;return Object(h.jsx)(en.a,{contain:!1,children:Object(h.jsx)("div",{ref:e.navigationPane,"aria-label":"Navigation Pane",className:"h-full border-l border-circle-gray-300 pt-6 bg-white flex flex-col overflow-y-hidden",style:{width:Jn},id:"Navigation-Pane",children:Object(h.jsx)(a,Object(d.a)({},n.props))})})},xn=function(e){var t=e.className;return Object(h.jsx)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",className:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75043 2.5C5.20317 2.5 4.00907 3.79028 4.00875 5.29917L4 19.698C4 21.2071 5.19421 22.4977 6.74168 22.4977H14.2553C13.7775 21.9186 13.416 21.2401 13.2064 20.4977H6.74168C6.36374 20.4977 6.00013 20.1684 6 19.698L6.00875 5.29977C6.00875 4.82917 6.37242 4.5 6.75043 4.5H12.877V9.29905C12.877 9.57519 13.1008 9.79905 13.377 9.79905H18.0034V13.5221C18.167 13.5075 18.3326 13.5 18.5 13.5C19.0213 13.5 19.5256 13.5725 20.0034 13.708V9.71152C20.0034 8.93031 19.6987 8.17991 19.154 7.61988L15.058 3.40837C14.4932 2.82763 13.7175 2.5 12.9074 2.5H6.75043ZM21.1889 18.762C21.1961 18.8425 21.1997 18.9195 21.1997 19C21.1997 19.0805 21.1961 19.1575 21.1853 19.238L21.8548 19.7315C21.9988 19.84 22.0384 20.0325 21.9484 20.1865L21.2753 21.317C21.1853 21.471 20.9909 21.534 20.8253 21.464L20.0514 21.1455C19.9182 21.2365 19.7779 21.317 19.6303 21.3835L19.5259 22.192C19.5043 22.367 19.3495 22.5 19.1695 22.5H17.8269C17.6469 22.5 17.4921 22.367 17.4705 22.192L17.3661 21.3835C17.2185 21.317 17.0782 21.2365 16.945 21.1455L16.1711 21.464C16.0055 21.534 15.8111 21.471 15.7211 21.317L15.048 20.1865C14.958 20.0325 14.9976 19.8365 15.1416 19.7315L15.8111 19.238C15.8039 19.1575 15.8003 19.0805 15.8003 19C15.8003 18.9195 15.8039 18.8425 15.8111 18.7655L15.1416 18.272C14.9976 18.1635 14.958 17.971 15.048 17.817L15.7211 16.683C15.8111 16.529 16.0055 16.466 16.1711 16.536L16.945 16.8545C17.0782 16.7635 17.2185 16.683 17.3661 16.6165L17.4705 15.808C17.4921 15.633 17.6469 15.5 17.8305 15.5H19.1731C19.3531 15.5 19.5079 15.633 19.5295 15.808L19.6339 16.6165C19.7815 16.683 19.9218 16.7635 20.055 16.8545L20.8289 16.536C20.9945 16.466 21.1889 16.529 21.2789 16.683L21.952 17.8135C22.042 17.9675 22.0024 18.1635 21.8584 18.2685L21.1889 18.762ZM17.2545 19C17.2545 19.6755 17.8197 20.225 18.5144 20.225C19.2091 20.225 19.7743 19.6755 19.7743 19C19.7743 18.3245 19.2091 17.775 18.5144 17.775C17.8197 17.775 17.2545 18.3245 17.2545 19Z",fill:"#161616"})})},vn=function(e){return Object(h.jsx)("svg",{width:"18",height:"4",viewBox:"0 0 18 4",className:e.className,children:Object(h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2C14 3.10457 14.8954 4 16 4C17.1046 4 18 3.10457 18 2C18 0.89543 17.1046 0 16 0C14.8954 0 14 0.89543 14 2ZM7 2C7 3.10457 7.89543 4 9 4C10.1046 4 11 3.10457 11 2C11 0.89543 10.1046 0 9 0C7.89543 0 7 0.89543 7 2ZM2 4C0.89543 4 0 3.10457 0 2C0 0.89543 0.89543 0 2 0C3.10457 0 4 0.89543 4 2C4 3.10457 3.10457 4 2 4Z",fill:"#343434"})})},On=function(){return Object(h.jsxs)(H,{alignLeft:!0,children:[Object(h.jsx)("div",{className:"flex rounded-md px-4 h-10 items-center justify-center border bg-circle-gray-250 hover:bg-circle-gray-300",children:Object(h.jsx)(vn,{className:"w-5 my-auto flex"})}),Object(h.jsx)("div",{className:"rounded border border-circle-gray-300 p-2 z-30 bg-white flex flex-col",children:[{name:"Report an Issue",url:"https://github.com/CircleCI-Public/visual-config-editor/issues/new/choose"},{name:"Contribute",url:"https://github.com/CircleCI-Public/visual-config-editor"}].map((function(e){return Object(h.jsx)("a",{href:e.url,className:"rounded flex w-full hover:bg-circle-gray-250 border-b border-circle-gray-300 p-2",children:e.name},e.name)}))})]})};function hn(){var e=zt((function(e){return e.previewToolbox})),t=Jt((function(e){return e.updatePreviewToolBox})),n=Object(a.useState)(!1),r=Object(j.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(e.filter.pattern),s=Object(j.a)(i,2),l=s[0],u=s[1],m=function(n,a,r){var c;t({filter:Object(d.a)(Object(d.a)({},e.filter),{},(c={},Object(b.a)(c,n,a),Object(b.a)(c,"preview",r),c))})};return Object(h.jsxs)(H,{space:4,dontCollapse:!0,alignLeft:!0,onClick:function(){o(!c)},children:[Object(h.jsxs)("div",{className:" bg-circle-gray-250 rounded py-2 px-3 flex flex-row hover:bg-circle-gray-300 ",style:{marginLeft:0},children:[Object(h.jsx)(Ze,{className:"w-6 mr-2"}),Object(h.jsx)(_,{expanded:c,className:"w-4"})]}),Object(h.jsxs)("div",{className:"bg-white w-64 rounded border-circle-gray-300 border shadow-sm",children:[Object(h.jsxs)("div",{className:"p-4",children:[Object(h.jsx)("h4",{className:"text-sm font-medium",children:"Filter Target"}),Object(h.jsxs)(A,{value:e.filter.type,className:"my-1 w-full",onChange:function(t){return m("type",t,e.filter.preview)},children:[Object(h.jsx)("option",{value:"branches",children:"Branch"}),Object(h.jsx)("option",{value:"tags",children:"Tag"})]}),Object(h.jsx)("h4",{className:"text-sm font-medium",children:"Sample"}),Object(h.jsx)("input",{className:"bg-white rounded p-2 px-4 w-full mt-1 shadow-sm border border-circle-gray-300",placeholder:"Sample ".concat(e.filter.type.toLowerCase()),value:l,onChange:function(e){u(e.target.value)}})]}),Object(h.jsxs)("div",{className:"border-t border-circle-gray-300 py-4 px-1 flex",children:[Object(h.jsx)(Q,{className:"ml-auto",variant:"flat",type:"button",onClick:function(){u(""),m("pattern",l,!1)},children:"Clear"}),Object(h.jsx)(Q,{variant:"primary",type:"button",onClick:function(){m("pattern",l,!0)},children:"Preview"})]})]})]})}function gn(){return Object(h.jsxs)("div",{className:"ml-auto flex my-auto flex-row p-4 space-x-2",children:[Object(h.jsx)(hn,{}),Object(h.jsx)(On,{})]})}var wn=function(e,t,n){return{x:e?(t.x+t.width-n[0])/n[2]:(t.x-n[0])/n[2],y:(t.y+t.height/2-60-n[1])/n[2]}},yn=function(e){var t,n,a,r,c=e.targetX,o=e.targetY,i=zt((function(e){return e.connecting})),s=zt((function(e){return e.altAction})),l=Object(Ve.j)((function(e){return e.transform})),d=null===i||void 0===i||null===(t=i.start)||void 0===t||null===(n=t.ref)||void 0===n?void 0:n.current,u="source"===(null===i||void 0===i||null===(a=i.start)||void 0===a?void 0:a.id.connectionHandleType);if(!d)return null;var b=d.getBoundingClientRect(),j=wn(u,b,l),m={x:c,y:o},f=30*(u?1:-1),p=u?m.x<j.x:m.y>j.x,x="#76CDFF";if(!p&&null!==i&&void 0!==i&&null!==(r=i.end)&&void 0!==r&&r.ref){var v,O,g=null===i||void 0===i||null===(v=i.end.ref)||void 0===v?void 0:v.current;if(g&&(null===i||void 0===i||null===(O=i.end)||void 0===O?void 0:O.ref.current)!==d){var w=g.getBoundingClientRect();m=wn(!u,w,l),x="#0078CA"}}return x=p||s?"#F24646":x,Object(h.jsxs)("g",{children:[Object(h.jsx)("path",{fill:"none",stroke:x,strokeWidth:1.5,className:"animated",d:"M".concat(j.x,",").concat(j.y," ").concat(j.x+f,",").concat(j.y," ").concat(j.x+f,",").concat(j.y," ").concat(m.x-f,",").concat(m.y," ").concat(m.x-f,",").concat(m.y," ").concat(m.x,",").concat(m.y)}),Object(h.jsx)("circle",{cx:m.x,cy:m.y,fill:"#fff",r:3,stroke:x,strokeWidth:1.5}),Object(h.jsx)("circle",{cx:j.x-2,cy:j.y,fill:"#fff",r:3,stroke:x,strokeWidth:1.5})]})};function Cn(e){var t=e.id,n=e.sourceX,a=e.sourceY,r=e.targetX,c=e.targetY,o=(e.sourcePosition,e.targetPosition,e.style),i=void 0===o?{}:o,s=(e.data,e.arrowHeadType,e.markerEndId,45);return Object(h.jsx)("g",{children:Object(h.jsx)("path",{id:t,style:i,className:"react-flow__edge-path",d:"M".concat(n-90,",").concat(a," ").concat(n-s,",").concat(a," ").concat(n-s,",").concat(a," ").concat(r+s,",").concat(c," ").concat(r+s,",").concat(c," ").concat(r+90,",").concat(c)})})}var Nn=function(e){var t=e.bgClassName,n=e.className,r=Jt((function(e){return e.importOrb})),c=Object(a.useState)({x:0,y:0,zoom:1}),o=Object(j.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(!1),m=Object(j.a)(l,2),p=m[0],x=m[1],v=zt((function(e){return e.definitions.workflows[e.selectedWorkflowId].value.elements})),O=Jt((function(e){return e.addWorkflowElement})),g=Jt((function(e){return e.setWorkflowElements})),w=zt((function(e){return e.dragging})),y=zt((function(e){return e.connecting})),C=Jt((function(e){return e.setConnecting})),N=zt((function(e){return e.altAction})),k=Jt((function(e){return e.setAltAction})),L=Object(a.useState)({x:0,y:0}),E=Object(j.a)(L,2),M=E[0],S=E[1];window.addEventListener("keydown",(function(e){e.shiftKey&&!p&&(k(!N),x(!0),setTimeout((function(){x(!1)}),5))}));var V=function(e,t){return v.map((function(n){var a,r;return Object(Ve.h)(n)&&null!==(a=xt.node)&&void 0!==a&&a.transform&&((null===(r=n.data.parameters)||void 0===r?void 0:r.name)||n.data.job.name)===e?Object(d.a)(Object(d.a)({},n),{},{data:xt.node.transform(n.data.job,t(n.data.parameters))}):n}))},_=function(){var e;if(null!==y&&void 0!==y&&null!==(e=y.start)&&void 0!==e&&e.name){var t="source"===y.start.id.connectionHandleType?y.start:y.end,n="source"===y.start.id.connectionHandleType?y.end:y.start,a=null===t||void 0===t?void 0:t.name;if(null!==n&&void 0!==n&&n.name&&a)if("creating"===y.intent&&t.id.connectionNodeId!==n.id.connectionNodeId)g(Object(Ve.f)({source:t.id.connectionNodeId,target:n.id.connectionNodeId,type:"requires",sourceHandle:t.id.connectionHandleId,targetHandle:n.id.connectionNodeId,animated:!1,style:{stroke:"#A3A3A3",strokeWidth:"2px"}},V(n.name,(function(e){return Object(d.a)(Object(d.a)({},e),{},{requires:null!==e&&void 0!==e&&e.requires?[].concat(Object(u.a)(e.requires),[a]):[a]})}))));else{var r=V(n.name,(function(e){var t=void 0;if(e.requires){var n,r=null===e||void 0===e||null===(n=e.requires)||void 0===n?void 0:n.filter((function(e){return e!==a}));t=r.length>0?r:void 0}return Object(d.a)(Object(d.a)({},e),{},{requires:t})})).filter((function(e){if("requires"!==e.type)return!0;var a=e;return a.source!==t.id.connectionNodeId||a.target!==n.id.connectionNodeId}));g(r)}C({id:{connectionNodeId:null,connectionHandleType:null,connectionHandleId:null}})}};Object(a.useEffect)((function(){return window.addEventListener("mouseup",_),function(){window.removeEventListener("mouseup",_)}}));var R=function(){var e=Object(Ve.i)((function(e){return e.setConnectionNodeId})),t=Object(Ve.i)((function(e){return e.setConnectionPosition}));return Object(a.useEffect)((function(){var n;e(null===y||void 0===y||null===(n=y.start)||void 0===n?void 0:n.id),t({x:M.x-i.x,y:M.y-i.y})})),null};return Object(h.jsx)("div",{className:"w-full h-full",onDragOver:function(e){var t;"workflow"===(null===w||void 0===w||null===(t=w.dataType)||void 0===t?void 0:t.dragTarget)&&e.preventDefault()},onDrag:function(e){},onMouseMove:function(e){var t,n=null===(t=e.target.closest(".react-flow"))||void 0===t?void 0:t.getBoundingClientRect();n&&S({x:e.clientX+i.x-n.left,y:e.clientY+i.y-n.top})},onDrop:function(e){var t,n,a=null===w||void 0===w||null===(t=w.dataType)||void 0===t?void 0:t.node;if("workflow"===(null===w||void 0===w||null===(n=w.dataType)||void 0===n?void 0:n.dragTarget)&&a){var c,o={x:e.clientX-80-i.x,y:e.clientY-120-i.y},s=function(e){return 15*Math.floor(e/i.zoom/15)},l=w.data;a.transform&&(l=a.transform(l,void 0,v)),l.job instanceof f.orb.OrbRef&&r(l.job.orb);var d={id:(null===(c=l.parameters)||void 0===c?void 0:c.name)||l.name||Object(he.a)(),data:l,connectable:!0,dragHandle:".node",type:w.dataType.key,position:{x:s(o.x),y:s(o.y)}};O(d)}},children:Object(h.jsxs)(Ve.g,{elements:v,className:n,onMove:function(e){s(e||i)},selectNodesOnDrag:!1,nodeTypes:Object.assign.apply(Object,[{}].concat(Object(u.a)(Pt.map((function(e){return e.mapping.node?Object(b.a)({},e.mapping.key,e.mapping.node.component):null}))))),edgeTypes:{requires:Cn},snapToGrid:!0,minZoom:.1,connectionMode:Ve.c.Loose,connectionLineComponent:yn,children:[Object(h.jsx)(R,{}),Object(h.jsx)(Ve.a,{variant:Ve.b.Dots,gap:15,color:"#A3A3A3",className:t,size:1})]})})},kn=function(){return Object(h.jsxs)("div",{"arial-label":"Workflows Pane",className:"flex flex-col flex-nowrap flex-1",id:"Workflows-Pane",children:[Object(h.jsxs)("header",{className:"flex w-full bg-white h-16",children:[Object(h.jsx)("div",{className:"p-2 flex flex-row my-auto w-full",children:Object(h.jsxs)("div",{className:"my-auto flex flex-row",children:[Object(h.jsx)(xn,{className:"mx-2"}),Object(h.jsx)("h1",{className:"text-xl font-bold",children:"Visual Config Editor"})]})}),Object(h.jsx)(gn,{})]}),Object(h.jsx)(Nn,{bgClassName:"bg-circle-gray-200",className:"border border-r-0 h-full border-b-0 border-circle-gray-300"})]})},Ln=(n(92),function(){var e=zt((function(e){return e.definitions.workflows})),t=zt((function(e){return e.selectedWorkflowId})),n=Jt((function(e){return e.selectWorkflow})),a=Jt((function(e){return e.define_workflows}));return Object(h.jsxs)(H,{alignLeft:!0,className:"rounded-md mx-3 my-auto px-2 border border-circle-gray-300 hover:bg-circle-gray-250",children:[Object(h.jsx)(_,{className:"w-3 h-6",expanded:!0}),Object(h.jsxs)("div",{className:"rounded border border-circle-gray-300 p-2 z-30 bg-white flex flex-col",children:[Object.keys(e).map((function(e){return Object(h.jsxs)("button",{value:e,className:"rounded flex w-full hover:bg-circle-gray-250 border-b border-circle-gray-300 p-2",type:"button",onClick:function(a){return e!==t&&n(e)},children:[e===t&&Object(h.jsx)(bt,{className:"w-6 p-1 mr-1"}),e]},e)})),Object(h.jsx)("button",{className:"tracking-wide hover:bg-circle-gray-200 leading-6 p-2 text-sm text-circle-blue font-medium",onClick:function(){return a(new gt("new-workflow",Object(he.a)(),[]))},children:"Add New Workflow"})]})]})}),En=function(e){var t=zt((function(e){return e.guideStep}));return Object(h.jsx)(Qt,{target:e.target,children:Object(h.jsx)("div",{className:"w-80 p-4 bg-white drop-shadow-lg rounded-lg",children:Object(h.jsxs)("div",{className:"flex flex-row",children:[Object(h.jsx)(S,{className:"w-5 h-5",color:"#000000"}),Object(h.jsxs)("div",{className:"px-3 w-full",children:[Object(h.jsxs)("header",{className:"pb-3 font-bold leading-5",children:["Step ",t," of 3"]}),Object(h.jsx)("div",{className:"font-medium text-sm text-circle-gray-500 whitespace-pre-line",children:e.children}),Object(h.jsx)("div",{className:"w-full flex flex-row pt-2",children:Object(h.jsx)("button",{className:" ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",children:"Dismiss"})})]})]})})})},Mn=function(e){var t,n=e.type,r=e.expanded,c=e.onChange,o=zt((function(e){return e.definitions})),i=Jt((function(e){return e.navigateTo})),s=zt((function(e){return e.guideStep})),l=Object(a.useRef)(null),d=Object.values(o[n.key]).length>0,u=[];null===(t=n.requirements)||void 0===t||t.forEach((function(e){e.test(o)||u.push(e.message)}));return Object(h.jsxs)("div",{ref:l,className:"w-full px-4 pb-0",children:[n.guide&&s===n.guide.step&&Object(h.jsx)(En,{target:l,children:n.guide.info}),Object(h.jsx)(z,{title:n.name.plural,expanded:r,className:"py-4",titleFont:"font-bold",classNameExpanded:"py-4 ",onChange:c,pinned:Object(h.jsx)(L,{disabled:u.length>0,className:"flex ml-auto",onClick:function(){var e;i(n.subtypes?Ge({typePage:null===(e=n.subtypes)||void 0===e?void 0:e.component,menuPage:ct,menuProps:{dataType:n,index:-1}}):{component:ot,props:{dataType:n,index:-1}})}}),titleExpanded:Object(h.jsx)(h.Fragment,{children:d&&Object(h.jsx)("div",{className:"p-2 px-8",children:Object(h.jsx)(Tt,{type:n})})}),children:Object(h.jsx)("div",{className:"w-full pl-2 pt-2",children:d?Ct(o[n.key],(function(e,t){return Object(h.jsx)(st,{data:e,type:n,index:t},e.name)})):Object(h.jsx)(E,{label:"No ".concat(n.name.plural.toLowerCase()," yet"),Logo:n.components.icon,description:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Tt,{type:n}),Object(h.jsx)("br",{}),u.length>0&&u]})})})}),Object(h.jsx)("div",{className:"w-full border-b border-circle-gray-300"})]})},Sn=n(196),Vn=n(198),_n=n(199),Rn=n(192),Hn=n(197),In=n(193);function Pn(e){var t=Object(Sn.a)(e),n=t.pages,a=t.refine,r=t.nbPages,c=Object(Vn.a)().results;return Object(h.jsx)(h.Fragment,{children:c.hits.length>0&&Object(h.jsxs)("div",{className:"flex flex-row px-2",children:[Object(h.jsx)(Q,{variant:"secondary",margin:"2",className:"w-9 h-9 border border-circle-gray-300 mx-1 rounded hover:border-gray-700",onClick:function(){a(n[0]-1)},disabled:0===n[0],children:"<"}),n.map((function(e){return Object(h.jsx)(Q,{variant:"secondary",margin:"2",className:"w-9 h-9 border border-circle-gray-300 mx-1 px-0 rounded hover:border-gray-700",onClick:function(){a(e+1)},children:e+1},e)})),Object(h.jsx)(Q,{variant:"secondary",margin:"2",className:"w-9 h-9 border border-circle-gray-300 mx-1 rounded hover:border-gray-700",onClick:function(){a(n[n.length-1]+1)},disabled:n[n.length-1]+1===r,children:">"})]})})}var An=function(e){var t=Object(_n.a)(e),n=t.refine,r=t.clear,c=Object(a.useState)(""),o=Object(j.a)(c,2),i=o[0],s=o[1],l=Object(Vn.a)().results;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{"aria-label":"Orbs Search Box",className:"my-2 rounded border w-full border-circle-gray-300 hover:border-circle-gray-700 flex flex-row",children:[Object(h.jsx)("input",{value:i,placeholder:e.placeholder,className:"pl-4 p-2 m-0 flex-grow",onChange:function(e){s(e.target.value),n(e.target.value)}}),Object(h.jsx)("button",{type:"button",className:"mx-4",onClick:function(){s(""),r()},children:Object(h.jsx)(q,{className:"w-3 h-3"})})]}),l.hits.length<1&&Object(h.jsx)(w,{className:"flex m-auto mt-10"})]})},Tn={Component:function(e){var t=Jt((function(e){return e.navigateTo}));return Object(h.jsxs)("div",{className:"h-full flex flex-col",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(ne,{}),Object(h.jsx)("div",{className:"pl-6 pr-5 py-3 flex text-sm text-circle-gray-500",children:"Make use of curated definitions from official or community orbs to speed up your pipeline building process."})]}),Object(h.jsx)(ue,{tabs:["EXPLORE"],activeTab:e.activeTab||0,children:Object(h.jsx)("div",{className:"p-6",children:Object(h.jsxs)(Rn.a,{searchClient:zn,indexName:"orbs-prod",children:[Object(h.jsx)("p",{className:"font-bold leading-5 tracking-wide",children:"Search Filters"}),Object(h.jsx)(An,{placeholder:"Search Orb Directory..."}),Object(h.jsx)(Hn.a,{hidden:!0,items:[{value:6,label:"",default:!0}]}),Object(h.jsx)(In.a,{className:"overflow-y-auto mt-4",style:{height:"calc(100vh - 420px)"},hitComponent:function(e){var n=e.hit,a=n;return Object(h.jsx)(Me,{truncate:120,icon:Object(h.jsx)("div",{className:"rounded-full bg-white shadow mr-2 mb-2 flex w-6 h-6 p-px",children:Object(h.jsx)("img",{src:n.logo_url||"https://circleci.com/developer/orb-logos/community.png",className:"rounded-full my-auto bg-white",alt:"".concat(n.name," logo")||!1})}),pinned:Object(h.jsx)("p",{className:"bg-circle-gray-300 rounded-full text-xs p-px my-auto px-2",children:n.version}),title:n.name,description:n.description,onClick:function(){t({component:qt,props:a})}},n.full_name)}}),Object(h.jsx)(ee,{centered:!0,children:Object(h.jsx)(Pn,{padding:1})})]})})})]})},Label:function(e){return Object(h.jsx)("p",{children:"Orbs"})},Icon:function(e){var t,n=null===(t=e.dataType)||void 0===t?void 0:t.components.icon;if(!n)return null;var a=n;return Object(h.jsx)(a,{className:"w-6 h-8 py-2"})}},Zn=function(e){var t=zt((function(e){return e.definitions.orbs})),n=Jt((function(e){return e.navigateTo})),r=Object(a.useRef)(null),c=Object(a.useMemo)((function(){return Ct(t,(function(e){return Object(h.jsxs)("button",{className:"w-full mb-2 p-4 py-2 text-sm cursor-pointer text-left text-circle-black  bg-white border border-circle-gray-300 rounded-md2 flex flex-row hover:border-black",onClick:function(){n({component:qt,props:{name:e.name,namespace:e.namespace,version:e.version,description:e.description,logo_url:e.logo_url}})},children:[Object(h.jsx)("div",{className:"w-6 h-6 flex mr-4 rounded-full shadow-sm",children:Object(h.jsx)("img",{className:"my-auto",src:e.logo_url,alt:""})}),Object(h.jsxs)("div",{className:"flex flex-row w-full my-auto text-circle-black text-base",children:[e.alias,Object(h.jsxs)("div",{className:"flex ml-auto text-xs my-auto bg-circle-gray-300 rounded-full p-px px-2",children:[e.namespace,"/",e.name,"@",e.version]})]})]},e.name)}))}),[t,n]);return Object(h.jsxs)("div",{ref:r,className:"w-full px-4 pb-0",children:[Object(h.jsx)(z,{title:"Orbs",expanded:e.expanded,onChange:e.onChange,titleFont:"font-bold",className:"py-4",classNameExpanded:"py-4",pinned:Object(h.jsx)(L,{className:"flex ml-auto",onClick:function(){n({component:Tn,props:{}})}}),children:Object(h.jsx)("div",{className:"w-full pl-2 pt-2",children:c.length>0?c:Object(h.jsx)(E,{label:"No imported orbs yet",Logo:_t,description:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Tt,{docsInfo:{description:"Orbs are curated snippets of config that help automate repeated processes.",link:"https://circleci.com/docs/orb-intro"}}),Object(h.jsx)("br",{}),"Import an orb by clicking the button above."]})})})}),Object(h.jsx)("span",{className:"w-full flex border-b border-circle-gray-300"})]})},Fn={Component:function(e){var t=zt((function(e){return e.definitions.workflows})),n=zt((function(e){return e.selectedWorkflowId})),a=Jt((function(e){return e.update_workflows})),r=zt((function(e){return e.config})),c=Jt((function(e){return e.generateConfig})),o=Jt((function(e){return e.persistProps})),i=t[n].value;return Object(h.jsxs)("div",{"aria-label":"Definitions Menu",className:"h-full bg-white flex flex-col",children:[Object(h.jsxs)("header",{className:"ml-4 mb-4 flex",children:[Object(h.jsx)(bt,{className:"w-8 h-8 p-1 mr-1"}),Object(h.jsx)("h1",{className:"text-2xl font-bold",children:i.name}),Object(h.jsx)(Ln,{})]}),Object(h.jsxs)(ue,{tabs:["DEFINITIONS","PROPERTIES"],children:[Object(h.jsxs)("div",{className:"px-2 flex-1 w-full flex-col overflow-y-scroll",style:{height:"calc(100vh - 200px)"},children:[Object(h.jsx)(Zn,{"aria-label":"Orb Imports",expanded:!0}),Pt.map((function(t,n){var a=t.mapping;return Object(h.jsx)(Mn,{type:a,expanded:e.expanded[n],onChange:function(t){o(Object(d.a)(Object(d.a)({},e),{},{expanded:e.expanded.map((function(e,a){return a===n?t:e}))}))}},a.name.plural)})),Object(h.jsx)(ee,{children:r&&Object(h.jsx)(Q,{variant:"primary",type:"button","aria-label":"Generate Configuration",className:" w-min whitespace-nowrap",onClick:function(e){return c()},children:"Generate Config"})})]}),Object(h.jsx)("div",{className:"p-6",children:Object(h.jsx)(M.d,{initialValues:{name:i.name},enableReinitialize:!0,onSubmit:function(e){a({old:i,new:new gt(e.name,i.id,i.jobs,i.when,i.elements)})},children:function(e){return Object(h.jsxs)(M.c,{className:"flex flex-col flex-1",children:[Object(h.jsx)(B,{label:"Name",name:"name"}),Object(h.jsx)(ee,{children:Object(h.jsx)(Q,{variant:"primary","aria-label":"Generate Configuration",className:" w-min whitespace-nowrap",children:"Save Workflow"})})]})}})})]})]})},Label:function(e,t){return Object(h.jsx)("h4",{children:t.overrideRoot||"Definitions"})}},Bn=["parameters","orbs"],Wn=Object(d.a)(Object(d.a)({},Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},Et(It)),Et(xt)),Et(ht)),Et(tt)),Et(yt)),St(ht)),St(It)),St(yt))),{},{persistProps:Object(l.b)((function(e,t){e.navigation=Object(d.a)(Object(d.a)({},e.navigation),{},{props:t})})),setAltAction:Object(l.b)((function(e,t){e.altAction=t})),setConnecting:Object(l.b)((function(e,t){t.ref?e.connecting={intent:e.altAction?"deleting":"creating",start:t}:e.connecting=void 0})),updateConnecting:Object(l.b)((function(e,t){var n;null!==(n=e.connecting)&&void 0!==n&&n.start&&(e.connecting=Object(d.a)(Object(d.a)({},e.connecting),{},{end:t}))})),setGuideStep:Object(l.b)((function(e,t){e.guideStep=t})),navigateTo:Object(l.b)((function(e,t){var n=e.navigation;n.jumpedFrom&&(e.navigation.jumpedFrom=void 0);for(var a=n.from;void 0!==(null===(r=a)||void 0===r?void 0:r.from);){var r;a=a.from}e.navigation=Object(d.a)(Object(d.a)({},t),{},{from:t.origin&&a?a:Object(d.a)(Object(d.a)({},n),{},{props:Object(d.a)(Object(d.a)({},n.props),{},{values:t.values})})})})),navigateBack:Object(l.b)((function(e,t){var n=(null===t||void 0===t?void 0:t.distance)||1;if(e.navigation.from){for(var a,r,c=e.navigation,o=0;o<n;o++){if(!c.from)throw new Error("Tried to navigate back to an undefined component!");c=c.from}var i,s=(null===t||void 0===t||null===(a=t.applyValues)||void 0===a?void 0:a.call(t,c.props.values))||c.props.values;i=null!==(r=c.props)&&void 0!==r&&r.menuProps?Object(d.a)(Object(d.a)({},c.props),{},{menuProps:Object(d.a)(Object(d.a)({},c.props.menuProps),{},{values:s})}):Object(d.a)(Object(d.a)({},c.props),{},{values:s}),e.navigation=Object(d.a)(Object(d.a)({},c),{},{props:i,jumpedFrom:n>1?e.navigation:void 0})}else e.navigation={component:Fn,props:{}}})),onToastEvent:Object(l.e)((function(e){return[e.navigateBack,e.triggerToast]}),(function(e,t){var n,a=Dn.getState(),r=null!==(n=t.payload&&t.payload.toast)&&void 0!==n?n:t.payload,c=a.toast;if(null!==r&&void 0!==r&&r.content){c&&c.timeout&&clearTimeout(c.timeout);var o=setTimeout((function(){e.setToast()}),r.duration||3500);e.setToast(Object(d.a)(Object(d.a)({},r),{},{timeout:o}))}})),setDragging:Object(l.b)((function(e,t){e.dragging=t})),selectWorkflow:Object(l.b)((function(e,t){e.selectedWorkflowId=t})),addWorkflowElement:Object(l.b)((function(e,t){var n=e.definitions.workflows[e.selectedWorkflowId],a=n.value,r=a.jobs;if("jobs"===t.type){var c=t.data,o=c.name,i=e.stagedJobs.workflows,s=i[a.name];a.name in e.stagedJobs.workflows?s[o]?s[o]++:s[o]=1:i[a.name]=Object(b.a)({},o,1),r=r.concat(c),e.stagedJobs={workflows:i}}wt(e,a.name,Object(d.a)(Object(d.a)({},n),{},{value:new gt(a.name,a.id,r,a.when,[].concat(Object(u.a)(a.elements),[t]))})),a.elements.push(t)})),removeWorkflowElement:Object(l.b)((function(e,t){var n=e.definitions.workflows[e.selectedWorkflowId],a=n.value,r=e.stagedJobs,c=r.workflows[a.name],o=a.jobs,i=a.elements.filter((function(n){if("requires"===n.type){var a=n;if(a.source===t||a.target===t)return!1}if("jobs"===n.type&&n.id===t){var i=n.data.name;c[i]&&(c[i]--,0===c[i]&&delete c[i],e.stagedJobs={workflows:r.workflows}),o=o.filter((function(e){return!(e instanceof f.workflow.WorkflowJob)||e.job.name!==t}))}return n.id!==t}));wt(e,a.name,Object(d.a)(Object(d.a)({},n),{},{value:new gt(a.name,a.id,o,a.when,i)}))})),setWorkflowElements:Object(l.b)((function(e,t){var n=e.definitions.workflows[e.selectedWorkflowId],a=n.value,r=t.filter((function(e){return e.type===xt.key})).map((function(e){return e.data}));wt(e,a.name,Object(d.a)(Object(d.a)({},n),{},{value:new gt(a.name,a.id,r,a.when,t)}))})),updateWorkflowElement:Object(l.b)((function(e,t){var n,a=e.definitions.workflows[e.selectedWorkflowId],r=a.value,c=(null===(n=t.data.parameters)||void 0===n?void 0:n.name)||t.data.name,o=c!==t.data.name,i=r.elements.map((function(e){if(e.id===t.id)return Object(d.a)(Object(d.a)(Object(d.a)({},e),t),{},{id:c});if("requires"===e.type&&o){var n=e;if(n.source===t.id)return Object(d.a)(Object(d.a)({},e),{},{source:c,sourceHandle:"".concat(c,"_source")});if(n.target===t.id)return Object(d.a)(Object(d.a)({},e),{},{target:c,targetHandle:"".concat(c,"_target")})}return e})),s=r.jobs.map((function(e){var n;if(e.name===t.id)return t.data;if(null!==(n=e.parameters)&&void 0!==n&&n.requires&&o){var a=e.parameters.requires.map((function(e){return e===t.id?c:e}));return e instanceof f.workflow.WorkflowJob?new f.workflow.WorkflowJob(e.job,Object(d.a)(Object(d.a)({},e.parameters),{},{requires:a})):new f.workflow.WorkflowJobApproval(e.name,Object(d.a)(Object(d.a)({},e.parameters),{},{requires:a}))}return e}));wt(e,r.name,Object(d.a)(Object(d.a)({},a),{},{value:new gt(r.name,r.id,s,r.when,i)}))})),observeWorkflowSources:Object(l.e)((function(e){return e.update_jobs}),(function(e,t){var n=Dn.getState(),a=t.payload;Object.values(n.definitions.workflows).forEach((function(t){var n=t.value,r=a,c=r.old.name,o=r.new.name,i=c!==o,s=n.elements.map((function(e){if("jobs"===e.type&&e.data.job.name===c){var t=e.data;return Object(d.a)(Object(d.a)({},e),{},{data:new f.workflow.WorkflowJob(r.new,t.parameters,t.pre_steps,t.post_steps),id:o})}if("requires"===e.type&&i){var n=e;if(n.source===c)return Object(d.a)(Object(d.a)({},e),{},{source:o,sourceHandle:"".concat(o,"_source")});if(n.target===c)return Object(d.a)(Object(d.a)({},e),{},{target:o,targetHandle:"".concat(o,"_target")})}return e})),l=n.jobs.map((function(e){var t;if(e.name===c&&e instanceof f.workflow.WorkflowJob)return new f.workflow.WorkflowJob(r.new,e.parameters,e.pre_steps,e.post_steps);if(null!==(t=e.parameters)&&void 0!==t&&t.requires&&i){var n=e.parameters.requires.map((function(e){return e===c?o:e}));return e instanceof f.workflow.WorkflowJob?new f.workflow.WorkflowJob(e.job,Object(d.a)(Object(d.a)({},e.parameters),{},{requires:n}),e.pre_steps,e.post_steps):new f.workflow.WorkflowJobApproval(e.name,Object(d.a)(Object(d.a)({},e.parameters),{},{requires:n}))}return e}));e.update_workflows({old:n,new:new gt(n.name,n.id,l,n.when,s)})}))})),importOrb:Object(l.b)((function(e,t){e.definitions.orbs[t.name]||(e.definitions.orbs=Object(d.a)(Object(d.a)({},e.definitions.orbs),{},Object(b.a)({},t.name,{observers:{},value:t})))})),unimportOrb:Object(l.b)((function(e,t){e.definitions.orbs=Object(d.a)({},e.definitions.orbs),delete e.definitions.orbs[t.alias]})),error:Object(l.b)((function(e,t){console.error("An action was not found! ",t)})),loadDefinitions:Object(l.e)((function(e){return e.loadConfig}),function(){var e=Object(xe.a)(Oe.a.mark((function e(t,n){var a,r,c,o,i,s,l;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.payload instanceof Error)){e.next=3;break}return t.triggerToast({label:"Config",content:"failed to load.",link:{label:"Report an issue.",url:"https://github.com/CircleCI-Public/visual-config-editor/issues"},duration:25e3,status:"failed"}),e.abrupt("return");case 3:a=n.payload.config,r=n.payload.manifests,c=a.parameters,o=a.orbs,i=Object(y.a)(a,Bn),l=(s=function(e){return t["define_".concat(e)]})("parameters"),null===c||void 0===c||c.parameters.forEach(l),o&&Object.values(o).forEach(function(){var e=Object(xe.a)(Oe.a.mark((function e(n){var a,c,o;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r?r[n.alias]:void 0){e.next=4;break}return console.warn("Orb ".concat(n.alias," is not defined in the manifests.")),e.abrupt("return");case 4:return c=zn.initIndex("orbs-prod"),e.next=7,c.findObject((function(e){return e.objectID==="".concat(n.namespace,"/").concat(n.name)}));case 7:o=e.sent,t.importOrb(new Zt(n.alias,n.namespace,n.name,a,n.version,o.object.logo_url,"".concat(o.object.url,"?version=").concat(n.version),n.description,n.display));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),["commands","executors","jobs"].forEach((function(e){var t=i[e];null===t||void 0===t||t.forEach((function(t){s(e)(t)}))}));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),loadConfig:Object(l.b)((function(e,t){if(t instanceof Error)return e.configError=t.message,void console.error(t);e.configError="";var n=t.config,a=function(e){var t,n=e instanceof f.workflow.WorkflowJob?e.job.name:e.name;return(null===(t=e.parameters)||void 0===t?void 0:t.name)||n},r={},c=Object.assign.apply(Object,[{}].concat(Object(u.a)(n.workflows.map((function(e){var t={},n={},c={};e.jobs.forEach((function(e){var r,o,i=a(e);if(n[i]=e,e instanceof f.workflow.WorkflowJob){var s=e.job.name;t[s]>0?t[s]++:t[s]=1}null===(r=e.parameters)||void 0===r||null===(o=r.requires)||void 0===o||o.forEach((function(e){c[e]=!0}))})),r[e.name]=t;var o=e.jobs.filter((function(e){return!(a(e)in c)})),i=[],s=[],l={},d=function e(t){var r,c=a(t);if(void 0!==l[c])return l[c];var o={col:0,row:0};if(null!==(r=t.parameters)&&void 0!==r&&r.requires){var d=0,u=0;t.parameters.requires.forEach((function(t){var a;a=void 0===l[t]?e(n[t]):l[t],u=Math.max(u,a.row),d=Math.max(d,a.col),i.push({id:Object(he.a)(),source:t,target:c,type:"requires",sourceHandle:"".concat(t,"_source"),targetHandle:"".concat(c,"_target"),animated:!1,style:{stroke:"#A3A3A3",strokeWidth:"2px"}})})),o.col=d+1,o.row=u}return s.length>o.col?s[o.col]++:s.push(1),o.row=Math.max(s[o.col],o.row),i.push({id:c,data:t,connectable:!0,dragHandle:".node",type:"jobs",position:{x:250*o.col,y:60*o.row}}),l[c]=o,o};return o.forEach((function(e){d(e)})),Object(b.a)({},e.name,{value:new gt(e.name,Object(he.a)(),e.jobs,e.when,i)})})))));e.definitions=Object(d.a)(Object(d.a)({},e.definitions),{},{workflows:c}),e.selectedWorkflowId=Object.keys(c)[0],e.stagedJobs={workflows:r},e.config=n.generate()})),generateConfig:Object(l.b)((function(e,t){var n=function(e,t){return t?[].concat(Object(u.a)(e),Object(u.a)(t)):e},a=function(e){return Object.assign.apply(Object,[{}].concat(Object(u.a)(Object.entries(e).map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(b.a)({},n,Nt(a))})))))},r=a(e.definitions),c=t?a(t):void 0,o=n(r.parameters,null===r||void 0===r?void 0:r.parameters),i=o.length>0?new f.parameters.CustomParametersList(o):void 0,s=new f.Config(!1,n(r.jobs,null===c||void 0===c?void 0:c.jobs),n(r.workflows,null===c||void 0===c?void 0:c.workflows),n(r.executors,null===c||void 0===c?void 0:c.executors),n(r.commands,null===c||void 0===c?void 0:c.commands),i,n(r.orbs,null===c||void 0===c?void 0:c.orbs));t?e.editingConfig=s.generate():(e.config=s.generate(),e.editingConfig=void 0)})),updatePreviewToolBox:Object(l.b)((function(e,t){e.previewToolbox=t})),setToast:Object(l.b)((function(e,t){e.toast=null!==t&&void 0!==t?t:void 0})),triggerToast:Object(l.b)((function(){})),triggerConfirmation:Object(l.b)((function(e,t){e.confirm=t})),triggerConfigRefresh:Object(l.e)((function(e){return[e.importOrb,e.unimportOrb,e.addWorkflowElement,e.setWorkflowElements,e.removeWorkflowElement,e.updateWorkflowElement].concat(Object(u.a)(function(e){var t=["parameters","commands","jobs","executors","workflows"],n=[];return["define","update","cleanup"].forEach((function(a){n.push.apply(n,Object(u.a)(t.map((function(t){return e["".concat(a,"_").concat(t)]}))))})),n}(e)))}),(function(e){e.generateConfig()})),updateTooltip:Object(l.b)((function(e,t){e.tooltip=t}))}),qn=Object(d.a)(Object(d.a)({selectedWorkflowId:"build-and-deploy",editingConfig:void 0,config:void 0,guideStep:1,navigation:{component:Fn,props:{expanded:[!0,!0,!1,!1]}},previewToolbox:{filter:{type:"branches",pattern:"",preview:!1}}},Vt),{},{stagedJobs:{workflows:{"build-and-deploy":{}}}},Wn),Dn=Object(l.c)(qn),Jn=400,zn=s()("U0RXNGRK45","798b0e1407310a2b54b566250592b3fd"),Kn=function(){var e=zt((function(e){return e.tooltip}));return Object(h.jsxs)("div",{className:"z-40 fixed",children:[e&&Object(h.jsx)(Qt,{target:e.ref,facing:e.facing,children:Object(h.jsx)("p",{children:e.description})}),Object(h.jsx)(Xt,{className:"p-6 fixed bottom-0 right-0 my-20",style:{width:Jn}})]})},Yn=function(){var e=function(){var e=Object(a.useState)(Kt()),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(Kt())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),t=Object(a.useRef)(null);return Object(h.jsxs)(l.a,{store:Dn,children:[Object(h.jsx)(Kn,{}),Object(h.jsxs)("section",{className:"flex flex-row h-full text-circle-black ",children:[Object(h.jsxs)("section",{className:"flex flex-col flex-nowrap flex-1",style:{width:e.width-Jn},children:[Object(h.jsx)(kn,{}),Object(h.jsx)(fn,{})]}),Object(h.jsx)(pn,{})]}),Object(h.jsx)("div",{className:"z-50",children:Object(h.jsx)(sn,{reference:t})}),Object(h.jsx)(an,{})]})};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Yn,{})}),document.getElementById("root"))},92:function(e,t,n){}},[[185,1,2]]]);
//# sourceMappingURL=main.914d282e.chunk.js.map